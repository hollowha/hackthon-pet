{"version":3,"file":"js/app.68060595.js","mappings":"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","sources":["webpack://pet/./src/App.vue","webpack://pet/./src/components/BottomBar.vue","webpack://pet/./src/components/BottomBar.vue?2961","webpack://pet/./src/components/NavBar.vue","webpack://pet/./src/stores/userStore.js","webpack://pet/./src/components/NavBar.vue?01fd","webpack://pet/./src/firebase.js","webpack://pet/./src/stores/petStore.js","webpack://pet/./src/App.vue?7ccd","webpack://pet/./src/pages/WelcomePage.vue","webpack://pet/./src/pages/WelcomePage.vue?720d","webpack://pet/./src/pages/MainPage.vue","webpack://pet/./src/pages/MainPage.vue?ecfc","webpack://pet/./src/pages/PetPage.vue","webpack://pet/./src/pages/PetPage.vue?aded","webpack://pet/./src/pages/ShopPage.vue","webpack://pet/./src/components/AchievementPopup.vue","webpack://pet/./src/components/AchievementPopup.vue?6c31","webpack://pet/./src/pages/ShopPage.vue?6b0a","webpack://pet/./src/pages/TaskPage.vue","webpack://pet/./src/pages/TaskPage.vue?021a","webpack://pet/./src/pages/ProfilePage.vue","webpack://pet/./src/pages/ProfilePage.vue?717a","webpack://pet/./src/pages/New1TaskPage.vue","webpack://pet/./src/pages/New1TaskPage.vue?a641","webpack://pet/./src/pages/Testing1Page.vue","webpack://pet/./src/pages/Testing1Page.vue?8d9c","webpack://pet/./src/pages/TestPopup.vue","webpack://pet/./src/pages/TestPopup.vue?580b","webpack://pet/./src/pages/SocialPage.vue","webpack://pet/./src/pages/SocialPage.vue?fe6c","webpack://pet/./src/pages/New2TaskPage.vue","webpack://pet/./src/pages/New2TaskPage.vue?a365","webpack://pet/./src/router/index.js","webpack://pet/./src/main.js","webpack://pet/webpack/bootstrap","webpack://pet/webpack/runtime/chunk loaded","webpack://pet/webpack/runtime/compat get default export","webpack://pet/webpack/runtime/define property getters","webpack://pet/webpack/runtime/global","webpack://pet/webpack/runtime/hasOwnProperty shorthand","webpack://pet/webpack/runtime/make namespace object","webpack://pet/webpack/runtime/jsonp chunk loading","webpack://pet/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"app\" @click=\"createParticles\">\r\n    <NavBar v-if=\"!isWelcomePage\" />\r\n    <router-view></router-view> <!-- 渲染當前路由的頁面 -->\r\n    <BottomBar v-if=\"!isWelcomePage\" />\r\n    <div class=\"particles\" id=\"particles-js\"></div> <!-- 添加粒子容器 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BottomBar from '@/components/BottomBar.vue';\r\nimport NavBar from '@/components/NavBar.vue';\r\nimport { useUserStore } from '@/stores/userStore';\r\nimport { usePetStore } from './stores/petStore';\r\nimport { ref, onValue, update } from 'firebase/database'; // 引入 Firebase 相關 API\r\nimport { database } from '@/firebase'; // 引入初始化的 Firebase 服務\r\nimport gsap from 'gsap'; // 引入 gsap\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    BottomBar,\r\n    NavBar,\r\n  },\r\n  computed: {\r\n    isWelcomePage() {\r\n      return this.$route && this.$route.name === 'Welcome';\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initializeUserData();\r\n    this.setupPassiveIncome(); // 被動產生虛擬幣和鑽石\r\n  },\r\n  methods: {\r\n    initializeUserData() {\r\n      const userStore = useUserStore();\r\n      const storedUser = localStorage.getItem('user');\r\n\r\n      if (storedUser) {\r\n        const user = JSON.parse(storedUser);\r\n        userStore.setUser(user);\r\n        this.setupFirebaseSync(user.uid);\r\n\r\n      }\r\n    },\r\n    setupFirebaseSync(userId) {\r\n      const userStore = useUserStore();\r\n\r\n      const userRef = ref(database, `users/${userId}`);\r\n      const petStore = usePetStore();\r\n      // 監聽 Firebase 的數據變化\r\n      onValue(userRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          userStore.setVirtualCoins(data.virtualCoins);\r\n          userStore.setDiamonds(data.diamonds || 0); // 同步鑽石\r\n          userStore.setPetLevel(data.petLevel || 1);\r\n\r\n          petStore.selectPet(data.selectedPetIndex.selectedPetIndex);\r\n          console.log('selectedPetIndex:', data.selectedPetIndex.selectedPetIndex);\r\n          console.log('Data updated from Firebase:', data.virtualCoins, data.diamonds);\r\n        }\r\n      });\r\n\r\n      // 定時從 Firebase 抓取數據\r\n      setInterval(() => {\r\n        onValue(userRef, (snapshot) => {\r\n          const data = snapshot.val();\r\n          if (data) {\r\n            userStore.setVirtualCoins(data.virtualCoins);\r\n            userStore.setDiamonds(data.diamonds || 0); // 定時同步鑽石\r\n            userStore.setPetLevel(data.petLevel || 1);\r\n            console.log('Data updated from Firebase:', data.virtualCoins, data.diamonds);\r\n          }\r\n        });\r\n\r\n      }, 3000); // 每10秒抓取一次資料\r\n    },\r\n    setupPassiveIncome() {\r\n      const userStore = useUserStore();\r\n      const userId = userStore.user ? userStore.user.uid : null;\r\n\r\n      if (userId) {\r\n        const userRef = ref(database, `users/${userId}`);\r\n\r\n        // 每隔 10 秒自動增加虛擬幣和鑽石\r\n        setInterval(() => {\r\n          const newCoins = userStore.virtualCoins + 1;\r\n          // const newDiamonds = userStore.diamonds + 1; // 增加鑽石\r\n          userStore.setVirtualCoins(newCoins);\r\n          // userStore.setDiamonds(newDiamonds); // 更新鑽石\r\n\r\n          // 同步到 Firebase\r\n          update(userRef, {\r\n            virtualCoins: newCoins,\r\n          });\r\n        }, 3000); // 每10秒增加1個虛擬幣和1個鑽石\r\n      }\r\n    },\r\n    // 創建粒子效果\r\n    createParticles(event) {\r\n      console.log('createParticles');\r\n      const particlesCount = 30; // 粒子數量\r\n      const particlesContainer = document.getElementById('particles-js'); // 粒子容器\r\n      if (!particlesContainer) {\r\n        console.error('Particles container not found');\r\n        return; // 如果找不到容器，停止執行\r\n      }\r\n\r\n      const x = event.clientX; // 點擊的 X 坐標\r\n      const y = event.clientY; // 點擊的 Y 坐標\r\n\r\n      for (let i = 0; i < particlesCount; i++) {\r\n        const particle = document.createElement('div');\r\n        particle.className = 'particle'; // 設定類別\r\n        particle.style.left = `${x}px`; // 粒子初始位置\r\n        particle.style.top = `${y}px`;\r\n        particlesContainer.appendChild(particle); // 將粒子添加到容器\r\n\r\n        const randomX = Math.random() * 200 - 100; // 隨機 X 偏移量\r\n        const randomY = Math.random() * 200 - 100; // 隨機 Y 偏移量\r\n\r\n        // 使用 GSAP 進行動畫\r\n        gsap.to(particle, {\r\n          x: randomX,\r\n          y: randomY,\r\n          opacity: 0, // 逐漸隱藏\r\n          duration: 0.5,\r\n          onComplete: () => particle.remove() // 動畫完成後移除粒子\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  margin: 0;\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n}\r\n\r\n#app {\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.particles {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n  overflow: hidden;\r\n  z-index: 9999;\r\n}\r\n\r\n.particle {\r\n  position: absolute;\r\n  width: 5px;\r\n  height: 5px;\r\n  border-radius: 50%;\r\n  background-color: #ff4500;\r\n  /* 粒子顏色 */\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","<template>\r\n    <nav class=\"bottom-bar\">\r\n        <button class=\"nav-item\" @click=\"navigateTo('Pet')\">\r\n            <font-awesome-icon :icon=\"['fas', 'paw']\" class=\"icon\" />\r\n        </button>\r\n\r\n        <button class=\"nav-item\" @click=\"navigateTo('test2')\">\r\n            <font-awesome-icon :icon=\"['fas', 'tasks']\" class=\"icon\" />\r\n        </button>\r\n\r\n        <!-- 中間圖標換成 tsmc.png -->\r\n        <button class=\"nav-item home-btn\" @click=\"navigateTo('Main')\">\r\n            <div class=\"home-icon\">\r\n                <img src=\"tsmc.png\" alt=\"Home\" class=\"tsmc-icon\" />\r\n            </div>\r\n        </button>\r\n\r\n        <button class=\"nav-item\" @click=\"navigateTo('Shop')\">\r\n            <font-awesome-icon :icon=\"['fas', 'store']\" class=\"icon\" />\r\n        </button>\r\n\r\n        <button class=\"nav-item\" @click=\"navigateTo('test')\">\r\n            <font-awesome-icon :icon=\"['fas', 'users']\" class=\"icon\" />\r\n        </button>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    methods: {\r\n        navigateTo(page) {\r\n            this.$router.push({ name: page });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.bottom-bar {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 60px;\r\n    background-color: #2c3e50;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    z-index: 1000;\r\n}\r\n\r\n.nav-item {\r\n    display: flex;\r\n    align-items: center;\r\n    color: white;\r\n    border: none;\r\n    background: none;\r\n    cursor: pointer;\r\n    transition: color 0.3s ease;\r\n}\r\n\r\n.nav-item:hover {\r\n    color: #ff5349;\r\n}\r\n\r\n.icon {\r\n    font-size: 32px;\r\n    /* 調整圖標大小 */\r\n}\r\n\r\n.home-btn {\r\n    position: relative;\r\n    bottom: 10px;\r\n}\r\n\r\n.home-icon {\r\n\r\n    border-radius: 50%;\r\n\r\n    color: white;\r\n    font-size: 70px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n/* 新增 tsmc 圖片樣式 */\r\n.tsmc-icon {\r\n    width: 80px;\r\n    height: 63px;\r\n    object-fit: cover;\r\n    scale: 1.3;\r\n}\r\n\r\n.nav-item:hover .icon {\r\n    transform: scale(1.5);\r\n    transition: transform 0.02s ease;\r\n}\r\n\r\n.nav-item:active .icon {\r\n    transform: scale(0.8);\r\n    transition: transform 0.1s ease;\r\n}\r\n</style>\r\n","import { render } from \"./BottomBar.vue?vue&type=template&id=34f9e306&scoped=true\"\nimport script from \"./BottomBar.vue?vue&type=script&lang=js\"\nexport * from \"./BottomBar.vue?vue&type=script&lang=js\"\n\nimport \"./BottomBar.vue?vue&type=style&index=0&id=34f9e306&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-34f9e306\"]])\n\nexport default __exports__","<template>\r\n    <nav class=\"nav-bar\">\r\n        <div class=\"nav-item coins\">\r\n            <font-awesome-icon :icon=\"['fas', 'coins']\" class=\"icon\" />{{ virtualCoins }}\r\n            <div ref=\"addCoinAnime\" class=\"add-coin-anime\">+ {{ addCoinAmount }}</div>\r\n        </div>\r\n        <div class=\"nav-item diamonds\">\r\n            <font-awesome-icon :icon=\"['fas', 'gem']\" class=\"icon\" /> {{ diamonds }}\r\n            <div ref=\"addDimondAnime\" class=\"add-dimond-anime\">+ {{ addDimondAmount }}</div>\r\n        </div> <!-- 顯示鑽石 -->\r\n        <div class=\"nav-item username\">\r\n            Hi, {{ user ? user.displayName : 'Guest' }}\r\n        </div>\r\n        <!-- <button class=\"logout-btn\" @click=\"handleLogout\" v-if=\"user\">Logout</button> -->\r\n        <button class=\"nav-item2\" @click=\"navigateTo('Profile')\">\r\n            <font-awesome-icon :icon=\"['fas', 'user']\" class=\"icon\" />\r\n        </button>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\nimport { useUserStore } from \"@/stores/userStore\";\r\nimport { computed, ref, watch, onMounted, nextTick } from 'vue'; // 引入 computed\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\"; // 引入 FontAwesomeIcon\r\nimport { useRouter } from 'vue-router'; // 引入 vue-router\r\nimport gsap from 'gsap'; // 引入 gsap\r\nexport default {\r\n    components: {\r\n        FontAwesomeIcon, // 註冊 FontAwesomeIcon 組件\r\n    },\r\n\r\n    setup() {\r\n        const userStore = useUserStore();\r\n        const addCoinAnime = ref(null);\r\n        const addCoinAmount = ref(0); // 新增金幣數量\r\n        const addDimondAnime = ref(null);\r\n        const addDimondAmount = ref(0); // 新增金幣數量\r\n\r\n        // 使用 computed 讓數據變成響應式\r\n        const user = computed(() => userStore.user);\r\n        const virtualCoins = computed(() => userStore.virtualCoins);\r\n        const diamonds = computed(() => userStore.diamonds); // 新增對鑽石的計算\r\n        const router = useRouter();\r\n\r\n        const navigateTo = (path) => {\r\n            router.push({ name: path });\r\n        };\r\n\r\n        const handleLogout = () => {\r\n            userStore.logout();\r\n        };\r\n\r\n        // 動畫效果\r\n\r\n        const triggerCoinAnimation = () => {\r\n            if (!addCoinAnime.value) return;\r\n            addCoinAnime.value.style.display = 'block';\r\n            gsap.fromTo(\r\n                addCoinAnime.value,\r\n                { opacity: 0, y: -20 },\r\n                { opacity: 1, y: 0, duration: 0.5, ease: \"power1.out\" }\r\n            );\r\n\r\n            // 隱藏動畫效果\r\n            gsap.to(addCoinAnime.value, {\r\n                opacity: 0,\r\n                delay: 1,\r\n                duration: 0.5,\r\n                ease: \"power1.in\",\r\n                onComplete: () => {\r\n                    // 在動畫完成後將元素隱藏\r\n                    if (addCoinAnime.value) {\r\n                        addCoinAnime.value.style.display = 'none';\r\n                    }\r\n\r\n                }\r\n            });\r\n        };\r\n\r\n        // 動畫效果\r\n        const triggerDimondAnimation = () => {\r\n            if (!addDimondAnime.value) return;\r\n            addDimondAnime.value.style.display = 'block';\r\n            gsap.fromTo(\r\n                addDimondAnime.value,\r\n                { opacity: 0, y: -20 },\r\n                { opacity: 1, y: 0, duration: 0.5, ease: \"power1.out\" }\r\n            );\r\n\r\n            // 隱藏動畫效果\r\n            gsap.to(addDimondAnime.value, {\r\n                opacity: 0,\r\n                delay: 1,\r\n                duration: 0.5,\r\n                ease: \"power1.in\",\r\n                onComplete: () => {\r\n                    // 在動畫完成後將元素隱藏\r\n                    if (addDimondAnime.value) {\r\n                        addDimondAnime.value.style.display = 'none';\r\n                    }\r\n\r\n                }\r\n            });\r\n        };\r\n\r\n        // 監聽 virtualCoins 變化，觸發動畫\r\n        watch(virtualCoins, (newVal, oldVal) => {\r\n            if (newVal > oldVal) {\r\n                console.log('newVal', newVal);\r\n                addCoinAmount.value = newVal - oldVal;\r\n                triggerCoinAnimation();\r\n            }\r\n        });\r\n        watch(diamonds, (newVal, oldVal) => {\r\n            if (newVal > oldVal) {\r\n                console.log('newVal', newVal);\r\n                addDimondAmount.value = newVal - oldVal;\r\n                triggerDimondAnimation();\r\n            }\r\n        });\r\n\r\n        // 初始時隱藏動畫元素\r\n        onMounted(async () => {\r\n            await nextTick();\r\n            if (addCoinAnime.value) {\r\n                addCoinAnime.value.style.display = 'none';\r\n            }\r\n            if (addDimondAnime.value) {\r\n                addDimondAnime.value.style.display = 'none';\r\n            }\r\n        });\r\n\r\n        return {\r\n            user,\r\n            virtualCoins,\r\n            diamonds, // 返回鑽石數據\r\n            handleLogout,\r\n            addCoinAnime,\r\n            addCoinAmount,\r\n            addDimondAnime,\r\n            addDimondAmount,\r\n            navigateTo\r\n        };\r\n\r\n\r\n    },\r\n    // methods: {\r\n    //     navigateTo(path) {\r\n    //         this.$router.push(path);\r\n    //     }\r\n    // }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nav-item2 {\r\n    display: flex;\r\n    align-items: center;\r\n    color: white;\r\n    border: none;\r\n    background: none;\r\n    cursor: pointer;\r\n    transition: color 0.3s ease;\r\n}\r\n\r\n.nav-item2:hover {\r\n    color: #3498db;\r\n}\r\n\r\n.nav-bar {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    background-color: #2c3e50;\r\n    color: white;\r\n    padding: 25px 25px;\r\n    width: 100vw;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 1000;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.nav-item {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    /* 將文字和 icon 垂直對齊 */\r\n}\r\n\r\n.coins {\r\n    flex: 1;\r\n    text-align: left;\r\n}\r\n\r\n.diamonds {\r\n    flex: 1;\r\n    text-align: left;\r\n}\r\n\r\n.add-coin-anime {\r\n\r\n    color: yellow;\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    padding-left: 5%;\r\n    pointer-events: none;\r\n    opacity: 0;\r\n    /* 初始狀態隱藏 */\r\n}\r\n\r\n.add-dimond-anime {\r\n\r\n    color: rgb(45, 148, 228);\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    padding-left: 5%;\r\n    pointer-events: none;\r\n    opacity: 0;\r\n    /* 初始狀態隱藏 */\r\n}\r\n\r\n\r\n.username {\r\n    flex: 1;\r\n    text-align: center;\r\n}\r\n\r\n.logout-btn {\r\n    flex: 1;\r\n    text-align: right;\r\n    background-color: #c0392b;\r\n    color: white;\r\n    font-size: 14px;\r\n    padding: 8px 12px;\r\n    border: none;\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n    max-width: 80px;\r\n}\r\n\r\n.icon {\r\n    margin-right: 8px;\r\n    /* 調整 icon 與文字之間的間距 */\r\n    font-size: 20px;\r\n    /* 調整 icon 大小 */\r\n}\r\n</style>","import { defineStore } from \"pinia\";\r\n\r\nexport const useUserStore = defineStore(\"user\", {\r\n  state: () => ({\r\n    user: null,\r\n    virtualCoins: 0,\r\n    diamonds: 50, // 新增鑽石屬性\r\n    petLevel: 1,\r\n    selectedPetIndex: 0, // 用來保存當前選中的寵物索引\r\n  }),\r\n  actions: {\r\n    setUser(user) {\r\n      this.user = user;\r\n    },\r\n    setVirtualCoins(coins) {\r\n      this.virtualCoins = coins;\r\n    },\r\n    setDiamonds(diamonds) {\r\n      // 設置鑽石\r\n      this.diamonds = diamonds;\r\n    },\r\n    setPetLevel(level) {\r\n      this.petLevel = level;\r\n    },\r\n    addCoins(amount) {\r\n      this.virtualCoins += amount;\r\n    },\r\n    addDiamonds(amount) {\r\n      // 增加鑽石的方法\r\n      this.diamonds += amount;\r\n    },\r\n    logout() {\r\n      this.user = null;\r\n      this.virtualCoins = 0;\r\n      this.diamonds = 0; // 登出後清空鑽石\r\n      this.petLevel = 1;\r\n    },\r\n    setSelectedPet(index) {\r\n      this.selectedPetIndex = index;\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=5f1c9ba1&scoped=true\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=5f1c9ba1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5f1c9ba1\"]])\n\nexport default __exports__","import { initializeApp } from \"firebase/app\";\r\nimport { getDatabase } from \"firebase/database\"; // 如果使用 Realtime Database\r\nimport { getAuth, GoogleAuthProvider, signInWithPopup } from \"firebase/auth\"; // 引入 Google 登入相關方法\r\n\r\n// Firebase 配置\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBv5UlN_6wbxZBLZcP13UcwM6unIixKn6I\",\r\n  authDomain: \"vue-http-demo-8773a.firebaseapp.com\",\r\n  databaseURL: \"https://vue-http-demo-8773a-default-rtdb.firebaseio.com\",\r\n  projectId: \"vue-http-demo-8773a\",\r\n  storageBucket: \"vue-http-demo-8773a.appspot.com\",\r\n  messagingSenderId: \"189657556660\",\r\n  appId: \"1:189657556660:web:4650bcc6ad7106bdcc59e1\",\r\n};\r\n\r\n// 初始化 Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\n// 初始化 Firebase 服務\r\nconst database = getDatabase(app); // 使用 Realtime Database\r\nconst auth = getAuth(app);\r\n\r\n// Google 登入方法\r\nconst provider = new GoogleAuthProvider();\r\nfunction signInWithGoogle() {\r\n  return signInWithPopup(auth, provider);\r\n}\r\n\r\nexport { database, auth, signInWithGoogle };\r\n","import { defineStore } from \"pinia\";\r\nimport { ref, update, onValue } from \"firebase/database\";\r\nimport { database } from \"../firebase\"; // 引入 Firebase Realtime Database\r\n\r\nexport const usePetStore = defineStore(\"petStore\", {\r\n  state: () => ({\r\n    petCollection: [\r\n      {\r\n        src: \"pet/pet3.png\",\r\n        owned: true,\r\n        level: 1,\r\n        currentExperience: 0,\r\n        experienceNeeded: 100,\r\n      },\r\n      {\r\n        src: \"pet/pet5.png\",\r\n        owned: true,\r\n        level: 1,\r\n        currentExperience: 0,\r\n        experienceNeeded: 100,\r\n      },\r\n      {\r\n        src: \"pet/pet1.png\",\r\n        owned: false,\r\n        level: 1,\r\n        currentExperience: 0,\r\n        experienceNeeded: 100,\r\n      },\r\n      {\r\n        src: \"pet/pet2.png\",\r\n        owned: false,\r\n        level: 1,\r\n        currentExperience: 0,\r\n        experienceNeeded: 100,\r\n      },\r\n      {\r\n        src: \"pet/pet4.png\",\r\n        owned: false,\r\n        level: 1,\r\n        currentExperience: 0,\r\n        experienceNeeded: 100,\r\n      },\r\n      {\r\n        src: \"pet/pet6.png\",\r\n        owned: false,\r\n        level: 1,\r\n        currentExperience: 0,\r\n        experienceNeeded: 100,\r\n      },\r\n    ],\r\n    selectedPetIndex: 0, // 跟踪當前選中的寵物\r\n    hasBrokenThrough: false, // 新增全域變數，紀錄是否突破\r\n  }),\r\n  getters: {\r\n    selectedPet(state) {\r\n      return state.petCollection[state.selectedPetIndex];\r\n    },\r\n  },\r\n  actions: {\r\n    selectPet(index) {\r\n      if (this.petCollection[index].owned) {\r\n        this.selectedPetIndex = index;\r\n        this.saveSelectedPetIndex(); // 保存選中的寵物索引到 Firebase\r\n      }\r\n    },\r\n    addExperience(amount) {\r\n      const selectedPet = this.selectedPet;\r\n      selectedPet.currentExperience += amount;\r\n      if (selectedPet.currentExperience >= selectedPet.experienceNeeded) {\r\n        this.levelUp();\r\n      }\r\n      this.syncPetDataToFirebase(); // 同步更新經驗值到 Firebase\r\n    },\r\n    levelUp() {\r\n      const selectedPet = this.selectedPet;\r\n      selectedPet.level += 1;\r\n      selectedPet.currentExperience = 0;\r\n      selectedPet.experienceNeeded += 50;\r\n      this.checkBreakthrough(); // 每次升級檢查是否達到突破條件\r\n      this.syncPetDataToFirebase(); // 升級後也要同步更新到 Firebase\r\n    },\r\n    checkBreakthrough() {\r\n      // 設定一個突破條件，例如當寵物達到 10 級時算作突破\r\n      const breakthroughLevel = 10;\r\n      const hasAnyPetBrokenThrough = this.petCollection.some(\r\n        (pet) => pet.level >= breakthroughLevel\r\n      );\r\n\r\n      if (hasAnyPetBrokenThrough && !this.hasBrokenThrough) {\r\n        // 如果有寵物達到突破條件，且還沒標記突破過，更新變數並同步到 Firebase\r\n        this.hasBrokenThrough = true;\r\n        this.syncBreakthroughStatus(); // 同步突破狀態\r\n      }\r\n    },\r\n    syncBreakthroughStatus() {\r\n      const storedUser = localStorage.getItem(\"user\");\r\n      if (storedUser) {\r\n        const userId = JSON.parse(storedUser).uid;\r\n        const userRef = ref(database, `users/${userId}/hasBrokenThrough`);\r\n\r\n        // 同步突破狀態到 Firebase\r\n        update(userRef, {\r\n          hasBrokenThrough: this.hasBrokenThrough,\r\n        });\r\n      }\r\n    },\r\n    updatePetCollection(petCollection) {\r\n      this.petCollection = petCollection;\r\n    },\r\n    syncPetDataToFirebase() {\r\n      const storedUser = localStorage.getItem(\"user\");\r\n      if (storedUser) {\r\n        const userId = JSON.parse(storedUser).uid;\r\n        const userRef = ref(database, `users/${userId}/pets`);\r\n\r\n        // 同步整個寵物集合到 Firebase\r\n        update(userRef, {\r\n          petCollection: this.petCollection,\r\n        });\r\n      }\r\n    },\r\n    loadSelectedPetIndex() {\r\n      const storedUser = localStorage.getItem(\"user\");\r\n      if (storedUser) {\r\n        const userId = JSON.parse(storedUser).uid;\r\n        const userRef = ref(database, `users/${userId}/selectedPetIndex`);\r\n        onValue(userRef, (snapshot) => {\r\n          const data = snapshot.val();\r\n          if (data !== null) {\r\n            this.selectedPetIndex = data;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    saveSelectedPetIndex() {\r\n      const storedUser = localStorage.getItem(\"user\");\r\n      if (storedUser) {\r\n        const userId = JSON.parse(storedUser).uid;\r\n        const userRef = ref(database, `users/${userId}/selectedPetIndex`);\r\n        update(userRef, { selectedPetIndex: this.selectedPetIndex });\r\n      }\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./App.vue?vue&type=template&id=557ffc41\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=557ffc41&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div id=\"app\">\r\n        <div class=\"login-container\" v-if=\"!user\">\r\n            <div class=\"login-box\">\r\n                <h1>Welcome to TSMC-pet</h1>\r\n                <p>Your journey to success and rewards starts here</p>\r\n                <button class=\"login-btn\" @click=\"login\">\r\n                    Login with Google\r\n                </button>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"user-info\" v-if=\"user\">\r\n            <h2>Welcome, {{ user.displayName }}!</h2>\r\n            <p>Your ID: {{ user.uid }}</p>\r\n            <div class=\"form-group\">\r\n                <input v-model=\"name\" placeholder=\"Enter your pet's name\" class=\"input-field\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <input v-model.number=\"balance\" placeholder=\"Enter your pet's energy level\" type=\"number\"\r\n                    class=\"input-field\" />\r\n            </div>\r\n\r\n            <button class=\"save-btn\" @click=\"saveData\">Save Pet Info</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { signInWithGoogle, database } from '../firebase'; // 引入 Firebase 認證和數據庫\r\nimport { ref, set } from 'firebase/database'; // 使用 Realtime Database 的 ref 和 set 方法\r\n\r\nexport default {\r\n    name: 'WelcomePage',\r\n    data() {\r\n        return {\r\n            user: null, // 用戶資訊\r\n            name: '', // 用戶輸入的名字（寵物名）\r\n            balance: 0 // 用戶輸入的金額（寵物能量值）\r\n        };\r\n    },\r\n    methods: {\r\n        // Google 登入功能\r\n        async login() {\r\n            try {\r\n                const result = await signInWithGoogle();\r\n                this.user = result.user; // 登入成功後，儲存用戶資訊\r\n\r\n                // 將用戶資訊存入 localStorage 並跳轉到主頁面\r\n                localStorage.setItem('user', JSON.stringify(this.user));\r\n                this.$router.push('/main');\r\n            } catch (error) {\r\n                console.error('Error during Google login:', error);\r\n            }\r\n        },\r\n        // 儲存用戶資料到 Firebase Realtime Database\r\n        saveData() {\r\n            if (this.user) {\r\n                const userId = this.user.uid; // 使用 Google 的 UID 作為用戶 ID\r\n                const userRef = ref(database, 'users/' + userId); // 建立到資料庫的參考路徑\r\n\r\n                // 儲存用戶的名字和金額（寵物的名字和能量）\r\n                set(userRef, {\r\n                    petName: this.name,\r\n                    petEnergy: this.balance\r\n                })\r\n                    .then(() => {\r\n                        console.log('Pet data saved successfully');\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('Error saving pet data:', error);\r\n                    });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    background-color: #f9f9f9;\r\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n}\r\n\r\n#app {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n    text-align: center;\r\n}\r\n\r\n.login-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n}\r\n\r\n.login-box {\r\n    background-color: white;\r\n    border-radius: 20px;\r\n    padding: 40px;\r\n    box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);\r\n    text-align: center;\r\n    width: 350px;\r\n}\r\n\r\n.login-box h1 {\r\n    font-size: 28px;\r\n    margin-bottom: 10px;\r\n    color: #c0392b;\r\n}\r\n\r\n.login-box p {\r\n    font-size: 16px;\r\n    margin-bottom: 20px;\r\n    color: #7f8c8d;\r\n}\r\n\r\n.login-btn {\r\n    background-color: #c0392b;\r\n    color: white;\r\n    font-size: 16px;\r\n    padding: 12px 24px;\r\n    border: none;\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s ease;\r\n}\r\n\r\n.login-btn:hover {\r\n    background-color: #e74c3c;\r\n}\r\n\r\n.user-info {\r\n    width: 350px;\r\n    margin-top: 20px;\r\n    text-align: center;\r\n}\r\n\r\n.form-group {\r\n    margin: 10px 0;\r\n}\r\n\r\n.input-field {\r\n    width: 100%;\r\n    padding: 12px;\r\n    border: 1px solid #bdc3c7;\r\n    border-radius: 10px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.save-btn {\r\n    background-color: #c0392b;\r\n    color: white;\r\n    font-size: 16px;\r\n    padding: 12px 24px;\r\n    border: none;\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    transition: background-color 0.3s ease;\r\n}\r\n\r\n.save-btn:hover {\r\n    background-color: #e74c3c;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n\r\n    .login-box,\r\n    .user-info {\r\n        width: 90%;\r\n        padding: 20px;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./WelcomePage.vue?vue&type=template&id=702d47fa\"\nimport script from \"./WelcomePage.vue?vue&type=script&lang=js\"\nexport * from \"./WelcomePage.vue?vue&type=script&lang=js\"\n\nimport \"./WelcomePage.vue?vue&type=style&index=0&id=702d47fa&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div id=\"main-page\">\r\n        <!-- 如果 user 尚未加載，顯示加載提示 -->\r\n        <div v-if=\"!user\">\r\n            <p>Loading user information...</p>\r\n        </div>\r\n\r\n        <!-- 寵物顯示區域 -->\r\n        <div class=\"card pet-display\" v-if=\"user\" @click=\"showClickGif\">\r\n            <h2 class=\"hh\">Your Pet</h2>\r\n\r\n            <div v-if=\"showBubble\" :key=\"floatingTextIndex\" class=\"floating-text\">\r\n                {{ floatingTexts[floatingTextIndex] }}\r\n            </div>\r\n            <div v-else style=\"height: 48px;\">\r\n                &nbsp;\r\n            </div>\r\n            <!-- 寵物圖片顯示與過渡效果 -->\r\n            <div class=\"pet-info\">\r\n                <transition name=\"fade\" mode=\"out-in\">\r\n                    <img :src=\"mainPetImage\" alt=\"Main Pet\" class=\"pet-image\" v-if=\"!isClickGif\" />\r\n                </transition>\r\n\r\n                <transition name=\"fade\" mode=\"out-in\">\r\n                    <img v-if=\"isClickGif\" :src=\"clickGifImage\" alt=\"Clicked Pet\" class=\"pet-image overlay\"\r\n                        @click=\"showTextBubble\" />\r\n                </transition>\r\n\r\n                <div class=\"pet-details\">\r\n                    <p class=\"pet-level\">Level: {{ petLevel }}</p>\r\n\r\n\r\n                    <p class=\"pet-name\">Name: {{ petName }}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <!-- 任務狀態顯示 -->\r\n        <div class=\"card task-status\" v-if=\"user\">\r\n            <h2>Task Status</h2>\r\n            <p class=\"task-intro\">Complete tasks to level up your pet!</p>\r\n            <ul>\r\n                <li v-for=\"task in tasks\" :key=\"task.id\">\r\n                    <span>{{ task.description }}</span>\r\n                    <span class=\"task-status-text\">Status: {{ task.status }}</span>\r\n                    <button v-if=\"task.status === 'not started'\" @click=\"acceptTask(task)\">\r\n                        Accept Task\r\n                    </button>\r\n                    <button v-if=\"task.status === 'in progress'\" @click=\"completeTask(task)\">\r\n                        Complete Task\r\n                    </button>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, update, onValue } from 'firebase/database';\r\nimport { database } from '../firebase'; // 引入 Firebase Realtime Database\r\nimport OpenAI from \"openai\";\r\nimport { usePetStore } from '../stores/petStore'; // 引入狀態管理\r\n\r\nexport default {\r\n    setup() {\r\n        const petStore = usePetStore();\r\n        return {\r\n            petStore,\r\n        };\r\n    },\r\n    data() {\r\n        return {\r\n            user: null, // 用戶資訊\r\n            isClickGif: false, // 控制是否顯示 -click.gif\r\n            tasks: [], // 任務列表\r\n            passiveIncomeInterval: null, // 用於被動收入的定時器\r\n            showBubble: false,\r\n            floatingTexts: [\"你超棒\", \"明日新星就是你\", \"又完成一個任務了\", \"加油加油\", \"你是最棒的\"],\r\n            floatingTextIndex: 0\r\n\r\n        };\r\n    },\r\n    computed: {\r\n        // 從 petStore 取出主寵物的圖片和其他屬性\r\n        selectedPet() {\r\n            return this.petStore.selectedPet;\r\n        },\r\n        petName() {\r\n            return this.selectedPet.name || 'Fluffy';\r\n        },\r\n        petLevel() {\r\n            return this.selectedPet.level || 1;\r\n        },\r\n        // mainPetImage() {\r\n        //     if (this.petStore.hasBrokenThrough) {\r\n        //         return 'pet/upgrade.gif'; // 突破後的主圖片\r\n        //     } else {\r\n        //         const petFileName = this.selectedPet.src.split('/').pop().split('.')[0];\r\n        //         return `pet/${petFileName}.gif`;\r\n        //     }\r\n        // },\r\n        // clickGifImage() {\r\n        //     if (this.petStore.hasBrokenThrough) {\r\n        //         return 'pet/upgrade-click.gif'; // 突破後的點擊圖片\r\n        //     } else {\r\n        //         const petFileName = this.selectedPet.src.split('/').pop().split('.')[0];\r\n        //         return `pet/${petFileName}-click.gif`;\r\n        //     }\r\n        // }\r\n\r\n        mainPetImage() {\r\n            const petFileName = this.selectedPet.src.split('/').pop().split('.')[0];\r\n            if (this.petStore.hasBrokenThrough && petFileName == 'pet3') {\r\n                return 'pet/upgrade.gif'; // 突破後的主圖片\r\n            }\r\n            return `pet/${petFileName}.gif`;\r\n        },\r\n        clickGifImage() {\r\n            const petFileName = this.selectedPet.src.split('/').pop().split('.')[0];\r\n            if (this.petStore.hasBrokenThrough && petFileName == 'pet3') {\r\n                return 'pet/upgrade-click.gif'; // 突破後的主圖片\r\n            }\r\n            return `pet/${petFileName}-click.gif`;\r\n        },\r\n    },\r\n    mounted() {\r\n        this.loadUserData();\r\n        this.getMessageFromChatGPT();\r\n    },\r\n    methods: {\r\n        loadUserData() {\r\n            const storedUser = localStorage.getItem('user');\r\n            if (storedUser) {\r\n                this.user = JSON.parse(storedUser);\r\n                const userId = this.user.uid;\r\n                const userRef = ref(database, `users/${userId}`);\r\n\r\n                // 監聽 Firebase Realtime Database 的變化\r\n                onValue(userRef, (snapshot) => {\r\n                    const data = snapshot.val();\r\n                    if (data) {\r\n                        this.tasks = data.tasks || [];\r\n                    }\r\n                });\r\n            } else {\r\n                this.$router.push('/'); // 如果沒有用戶資料，重定向回登入頁面\r\n            }\r\n        },\r\n        acceptTask(task) {\r\n            task.status = 'in progress';\r\n            this.updateTasks();\r\n        },\r\n        completeTask(task) {\r\n            task.status = 'completed';\r\n            this.petStore.addExperience(10); // 完成任務提升經驗值\r\n            this.updateTasks();\r\n        },\r\n        updateTasks() {\r\n            const userId = this.user.uid;\r\n            const userRef = ref(database, `users/${userId}`);\r\n            update(userRef, {\r\n                tasks: this.tasks,\r\n            });\r\n        },\r\n        showClickGif() {\r\n            this.isClickGif = true;\r\n            setTimeout(() => {\r\n                this.isClickGif = false;\r\n            }, 1500);\r\n        },\r\n        showTextBubble() {\r\n            console.log(\"show text tttt\")\r\n            this.showBubble = true;\r\n            // this.floatingTextIndex = Math.floor(Math.random() * this.floatingTexts.length);\r\n            this.floatingTextIndex = (this.floatingTextIndex + 1) % this.floatingTexts.length;\r\n            // Hide the bubble after 5 seconds\r\n            setTimeout(() => {\r\n                this.showBubble = false;\r\n            }, 5000);\r\n        },\r\n        async getMessageFromChatGPT() {\r\n\r\n            const storedUser = localStorage.getItem('user');\r\n            let displayUserName = \"Kevin\";\r\n            if (storedUser) {\r\n                this.user = JSON.parse(storedUser);\r\n                displayUserName = this.user.displayName\r\n\r\n            }\r\n\r\n            console.log(displayUserName)\r\n\r\n            let kkk =\r\n                \"c2stM1VhNDUwUHhhdjNnVVNNLUNmSHVTQ25ySUI3YUZGZjU1d0RRaE92SEZSVDNCbGJrRkowUkVpazRGWmN3QnIwZXIyX2xUU1BsbWV5dFZzQWpnYmpNS1puLVRfNEE=\";\r\n            const decodedStr = atob(kkk);\r\n            // console.log(decodedStr);\r\n\r\n            const openai = new OpenAI({\r\n                apiKey: decodedStr,\r\n                dangerouslyAllowBrowser: true,\r\n            });\r\n\r\n            const thread = await openai.beta.threads.create();\r\n\r\n            console.log(\"loading GPT\");\r\n            let prompt = `Please address the user as ${displayUserName}. The user has a premium account.First greeting to user with his name. Then say something to encourage him to work, give me five sentences. Separate each sentence with commas. Each sentence should cotent user name and not exceed 10 words. there shoudn't be comma after name. Answer in Traditional Chinese.`\r\n            let run = await openai.beta.threads.runs.createAndPoll(thread.id, {\r\n                assistant_id: \"asst_8GkyxwRkgLuvSkUcvhkFIFKT\",\r\n                instructions: prompt\r\n\r\n            });\r\n\r\n            if (run.status === \"completed\") {\r\n\r\n                const messages = await openai.beta.threads.messages.list(run.thread_id);\r\n                for (const message of messages.data.reverse()) {\r\n                    console.log(`${message.role} > ${message.content[0].text.value}`);\r\n                    this.mes = message.content[0].text.value;\r\n                    this.floatingTexts = this.mes.split(\"，\");\r\n                    console.log(this.floatingTexts);\r\n                }\r\n            } else {\r\n                console.log(run.status);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hh {\r\n    padding-bottom: 150px;\r\n}\r\n\r\n#main-page {\r\n    padding-top: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n}\r\n\r\n.card {\r\n    background-color: white;\r\n    border-radius: 20px;\r\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n    padding: 20px;\r\n    text-align: center;\r\n    width: 90%;\r\n\r\n    margin-bottom: 20px;\r\n}\r\n\r\n/* 寵物顯示區域樣式 */\r\n.pet-info {\r\n    position: relative;\r\n    height: 250px;\r\n    width: 100%;\r\n}\r\n\r\n.pet-image,\r\n.overlay {\r\n    width: 350px;\r\n    height: 350px;\r\n    object-fit: cover;\r\n    position: absolute;\r\n    top: 20%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    transition: opacity 0.5s ease-in-out;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n    transition: opacity 0.5s ease-in-out;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n    opacity: 0;\r\n}\r\n\r\n.pet-details {\r\n    position: absolute;\r\n    bottom: 10px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    text-align: center;\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n    padding: 5px 10px;\r\n    border-radius: 10px;\r\n}\r\n\r\n.pet-level,\r\n.pet-name {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #2c3e50;\r\n}\r\n\r\n/* 任務區塊 */\r\n.task-status ul {\r\n    list-style-type: none;\r\n    padding: 0;\r\n}\r\n\r\n.task-status li {\r\n    background-color: #f0f4f8;\r\n    margin: 10px 0;\r\n    padding: 10px;\r\n    border-radius: 10px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.task-status-text {\r\n    font-size: 14px;\r\n    color: #7f8c8d;\r\n}\r\n\r\nbutton {\r\n    padding: 8px 12px;\r\n    background-color: #ff5349;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n    background-color: #ff5349;\r\n}\r\n\r\n.task-intro {\r\n    color: #7f8c8d;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n    .pet-image {\r\n        width: 150px;\r\n        height: 150px;\r\n    }\r\n\r\n    .card {\r\n        padding: 15px;\r\n    }\r\n\r\n    .task-status li {\r\n        font-size: 14px;\r\n    }\r\n\r\n    #main-page {\r\n        padding: 10px;\r\n    }\r\n}\r\n\r\n.floating-text {\r\n\r\n    background-color: rgba(255, 255, 255, 0.7);\r\n    color: rgb(0, 0, 0);\r\n    padding: 10px 15px;\r\n    border-radius: 10px;\r\n    font-size: 14px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n    animation: fadeOut 3s forwards;\r\n    transform: translateY(-50px);\r\n    opacity: 0;\r\n    max-width: 80%;\r\n    z-index: 1000;\r\n    /* Limit the maximum width to keep it readable */\r\n\r\n}\r\n\r\n@keyframes fadeOut {\r\n    0% {\r\n        opacity: 1;\r\n        transform: translateY(-100px);\r\n    }\r\n\r\n    90% {\r\n        opacity: 0.5;\r\n    }\r\n\r\n    100% {\r\n        opacity: 0;\r\n        transform: translateY(-240px);\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./MainPage.vue?vue&type=template&id=437c0124&scoped=true\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js\"\n\nimport \"./MainPage.vue?vue&type=style&index=0&id=437c0124&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-437c0124\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"pet-page\">\r\n        <!-- 上半部 - 寵物特寫與資訊 -->\r\n        <div class=\"pet-feature\" @click=\"handlePetClick\">\r\n            <div class=\"pet-info\">\r\n                <!-- 用於顯示原始 GIF -->\r\n                <transition name=\"fade\" mode=\"out-in\">\r\n                    <img :src=\"mainPetImage\" alt=\"Main Pet\" class=\"main-pet overlay\" v-if=\"!isClickGif\" />\r\n                </transition>\r\n\r\n                <!-- 顯示 -click.gif，過渡效果 -->\r\n                <transition name=\"fade\" mode=\"out-in\">\r\n                    <img v-if=\"isClickGif\" :src=\"clickGifImage\" alt=\"Clicked Pet\" class=\"main-pet overlay\" />\r\n                </transition>\r\n\r\n                <!-- 寵物等級、名稱、經驗值條 -->\r\n                <div class=\"pet-details\">\r\n                    <p class=\"pet-level\">Level: {{ selectedPet.level }}</p>\r\n                    <p class=\"pet-name\">Name: {{ petName }}</p>\r\n\r\n                    <!-- 經驗值進度條 -->\r\n                    <div class=\"exp-bar\">\r\n                        <div class=\"exp-fill\" :style=\"{ width: experiencePercentage + '%' }\"></div>\r\n                    </div>\r\n                    <p class=\"experience-text\">{{ selectedPet.currentExperience }} / {{ selectedPet.experienceNeeded }}\r\n                        XP</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 下半部 - 圖鑑，顯示多個寵物頭像 -->\r\n        <div class=\"pet-gallery\">\r\n            <h2>Pet Collection</h2>\r\n            <div class=\"pet-thumbnails\">\r\n                <img v-for=\"(pet, index) in petStore.petCollection\" :key=\"index\" :src=\"pet.src\"\r\n                    :alt=\"`Pet ${index + 1}`\" :class=\"{ 'pet-thumbnail': true, 'unowned': !pet.owned }\"\r\n                    @click=\"selectPet(index)\" />\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 寵物初始化按鈕 -->\r\n        <button class=\"initialize-button\" @click=\"initializeDefaultPets\">\r\n            寵物初始化\r\n        </button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, update, onValue } from 'firebase/database';\r\nimport { database } from '../firebase';\r\nimport { usePetStore } from '../stores/petStore'; // 引入狀態管理\r\n\r\nexport default {\r\n    setup() {\r\n        const petStore = usePetStore();\r\n\r\n        return {\r\n            petStore,\r\n        };\r\n    },\r\n    data() {\r\n        return {\r\n            petName: 'Fluffy',\r\n            mainPet: { src: 'pet/pet3.png', owned: true },\r\n            isClickGif: false,\r\n            selectedPetIndex: 0, // 追蹤選中的寵物索引\r\n        };\r\n    },\r\n    computed: {\r\n        // 從 petStore 中取得選中的寵物\r\n        selectedPet() {\r\n            return this.petStore.selectedPet;\r\n        },\r\n        mainPetImage() {\r\n            const petFileName = this.selectedPet.src.split('/').pop().split('.')[0];\r\n            if (this.petStore.hasBrokenThrough && petFileName == 'pet3') {\r\n                return 'pet/upgrade.gif'; // 突破後的主圖片\r\n            }\r\n            return `pet/${petFileName}.gif`;\r\n        },\r\n        clickGifImage() {\r\n            const petFileName = this.selectedPet.src.split('/').pop().split('.')[0];\r\n            if (this.petStore.hasBrokenThrough && petFileName == 'pet3') {\r\n                return 'pet/upgrade-click.gif'; // 突破後的主圖片\r\n            }\r\n            return `pet/${petFileName}-click.gif`;\r\n        },\r\n        experiencePercentage() {\r\n            return (this.selectedPet.currentExperience / this.selectedPet.experienceNeeded) * 100;\r\n        }\r\n    },\r\n    methods: {\r\n        handlePetClick() {\r\n            this.isClickGif = true;\r\n            this.petStore.addExperience(1); // 增加當前選中寵物的經驗值\r\n            setTimeout(() => {\r\n                this.isClickGif = false;\r\n            }, 1500);\r\n        },\r\n        selectPet(index) {\r\n            this.petStore.selectPet(index); // 更新選中的寵物\r\n        },\r\n        updatePetData() {\r\n            const userId = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')).uid : null;\r\n            if (userId) {\r\n                const userRef = ref(database, `users/${userId}/pets`);\r\n                update(userRef, {\r\n                    petCollection: this.petStore.petCollection, // 同步整個寵物集合到 Firebase\r\n                });\r\n            }\r\n        },\r\n        initializeDefaultPets() {\r\n            // 預設的寵物數據初始化\r\n            const defaultPetCollection = [\r\n                { src: 'pet/pet3.png', owned: true, level: 1, currentExperience: 0, experienceNeeded: 100 },\r\n                { src: 'pet/pet5.png', owned: true, level: 1, currentExperience: 0, experienceNeeded: 100 },\r\n                { src: 'pet/pet1.png', owned: false, level: 1, currentExperience: 0, experienceNeeded: 100 },\r\n                { src: 'pet/pet2.png', owned: false, level: 1, currentExperience: 0, experienceNeeded: 100 },\r\n                { src: 'pet/pet4.png', owned: false, level: 1, currentExperience: 0, experienceNeeded: 100 },\r\n                { src: 'pet/pet6.png', owned: false, level: 1, currentExperience: 0, experienceNeeded: 100 },\r\n            ];\r\n\r\n            // 更新 petStore 的寵物數據\r\n            this.petStore.updatePetCollection(defaultPetCollection);\r\n            this.petStore.selectPet(0); // 預設選擇第一隻寵物\r\n\r\n            // 同步初始化數據到 Firebase\r\n            this.updatePetData();\r\n        }\r\n    },\r\n    mounted() {\r\n        const storedUser = localStorage.getItem('user');\r\n        if (storedUser) {\r\n            const userId = JSON.parse(storedUser).uid;\r\n            const userRef = ref(database, `users/${userId}/pets`);\r\n            onValue(userRef, (snapshot) => {\r\n                const data = snapshot.val();\r\n                if (data && data.petCollection) {\r\n                    this.petStore.updatePetCollection(data.petCollection);\r\n                }\r\n            });\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n/* 經驗值條樣式 */\r\n.exp-bar {\r\n    width: 100%;\r\n    height: 20px;\r\n    background-color: #e0e0e0;\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n    margin-top: 10px;\r\n}\r\n\r\n.exp-fill {\r\n    height: 100%;\r\n    background-color: #2c3e50;\r\n    border-radius: 10px;\r\n    transition: width 0.3s ease;\r\n}\r\n\r\n.experience-text {\r\n    margin-top: 5px;\r\n    font-size: 14px;\r\n    color: #2c3e50;\r\n}\r\n\r\n/* 其他樣式保持不變 */\r\n.pet-page {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 20px;\r\n    margin-top: 50px;\r\n}\r\n\r\n.pet-feature {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: white;\r\n    border-radius: 15px;\r\n    padding: 20px;\r\n    width: 100%;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n    position: relative;\r\n    height: 500px;\r\n}\r\n\r\n.main-pet,\r\n.overlay {\r\n    width: 250px;\r\n    height: 250px;\r\n    object-fit: cover;\r\n    position: absolute;\r\n    top: 45%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    transition: opacity 0.5s ease-in-out;\r\n    z-index: 1;\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n    transition: opacity 0.5s ease-in-out;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n    opacity: 0;\r\n}\r\n\r\n.pet-details {\r\n    position: absolute;\r\n    bottom: 20px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    text-align: center;\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n    padding: 5px 10px;\r\n    border-radius: 10px;\r\n}\r\n\r\n.pet-level,\r\n.pet-name {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #2c3e50;\r\n}\r\n\r\n.pet-gallery {\r\n    margin-top: 20px;\r\n    width: 100%;\r\n}\r\n\r\n.pet-thumbnails {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: 10px;\r\n}\r\n\r\n.pet-thumbnail {\r\n    width: 100%;\r\n    height: auto;\r\n    border-radius: 10px;\r\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n    object-fit: cover;\r\n    cursor: pointer;\r\n}\r\n\r\n.pet-thumbnail.unowned {\r\n    filter: grayscale(100%);\r\n    cursor: not-allowed;\r\n}\r\n\r\n.pet-thumbnail:hover {\r\n    transform: scale(1.05);\r\n    transition: transform 0.3s ease;\r\n}\r\n\r\n.initialize-button {\r\n    margin-top: 20px;\r\n    padding: 10px 20px;\r\n    background-color: white;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 10px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    margin-bottom: 50px;\r\n}\r\n\r\n.initialize-button:hover {\r\n    background-color: white;\r\n}\r\n</style>\r\n","import { render } from \"./PetPage.vue?vue&type=template&id=0ed700a1&scoped=true\"\nimport script from \"./PetPage.vue?vue&type=script&lang=js\"\nexport * from \"./PetPage.vue?vue&type=script&lang=js\"\n\nimport \"./PetPage.vue?vue&type=style&index=0&id=0ed700a1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ed700a1\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"shop-page\">\r\n    <button class=\"switch-btn\" @click=\"switchPage\">\r\n      <font-awesome-icon :icon=\"['fas', 'exchange-alt']\" class=\"icon\" />\r\n      {{ pageName }}\r\n    </button>\r\n    <div v-if=\"internalPage\">\r\n      <div class=\"diamond-exchange\">\r\n        <p class=\"diamond-desc\" style=\"margin: 0 0; margin-top: 5%;\">10 Diamonds for 100 coins</p>\r\n        <button class=\"buy-btn\" @click=\"purchaseDiamonds\">100 coins</button>\r\n      </div>\r\n      <div class=\"stuff\">\r\n        <div class=\"product\" v-for=\"product in stuff\" :key=\"product.id\">\r\n          <img class=\"product-img\" :src=\"`product_img/${product.img}`\" alt=\"Image\" />\r\n          <h2 class=\"product-name\" style=\"font-size: large; margin: 0; margin-bottom: 2px;\">{{ product.name }}</h2>\r\n          <p style=\"font-size: small; margin: 1px; padding: 0%;\"><font-awesome-icon :icon=\"['fas', 'coins']\" class=\"icon\" />{{ product.price }}</p>\r\n          <button @click=\"purchase(product)\" class=\"buy-btn\">Buy</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <div class=\"stuff external\">\r\n        <div class=\"product external-stuff\" v-for=\"product in outStuff\" :key=\"product.id\">\r\n          <img class=\"product-img\" :src=\"`product_img/${product.img}`\" alt=\"Image\" />\r\n          <h2 class=\"product-name\" style=\"font-size: large; margin: 0; margin-bottom: 2px;\">{{ product.name }}</h2>\r\n          <p style=\"font-size: small; margin: 1px; padding: 0%;\"><font-awesome-icon :icon=\"['fas', 'gem']\" class=\"icon\" />{{ product.price }}</p>\r\n          <button @click=\"purchaseByDiamond(product)\" class=\"buy-btn\">Buy</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <AchievementPopup\r\n      v-if=\"isPopupVisible\"\r\n      :title=\"stuffTitle\"\r\n      :description=\"stuffDescription\"\r\n      :image=\"stuffImage\"\r\n      @close=\"isPopupVisible = false\"\r\n      />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onValue, ref, update, set } from \"firebase/database\";\r\nimport { database } from \"../firebase\"; // 引入 Firebase Realtime Database\r\nimport { usePetStore } from \"@/stores/petStore\";\r\n// import { useUserStore } from \"@/stores/userStore\";\r\nimport AchievementPopup from '../components/AchievementPopup.vue';\r\nexport default {\r\n  components: {\r\n      AchievementPopup,\r\n  },\r\n  data() {\r\n    return {\r\n      internalPage: true, // default page\r\n      pageName: '內部商城',\r\n      stuff: [\r\n        { id: 1, img: 'egg1.png', name: '初級寵物蛋', price: 200 },\r\n        { id: 2, img: 'egg2.png', name: '中級寵物蛋', price: 500 },\r\n        { id: 3, img: 'egg3.png', name: '高級寵物蛋', price: 1000 },\r\n        // { id: 4, img: 'bottle.png', name: 'bottle', price: 100 },\r\n        { id: 4, img: 'upgrade.png', name: '寵物突破', price: 1 },\r\n      ],\r\n      outStuff: [\r\n        { id: 10, img: 'coupon1.png', name: '餐卷', price: 300, qrCode: 'qrcode.png' },\r\n        { id: 11, img: 'coupon2.png', name: '餐卷', price: 500, qrCode: 'qrcode.png' },\r\n      ],\r\n      coins: 0,\r\n      diamonds: 0,\r\n      lastExchangeDate: '',\r\n      isPopupVisible: false,\r\n      stuffTitle: '成就解鎖：超級冒險者！',\r\n      stuffDescription: '你已經完成了所有挑戰，獲得了獨特的獎勵！',\r\n      stuffImage: './pet/pet1.png',\r\n    };\r\n  },\r\n  setup() {\r\n    const petStore = usePetStore(); // 使用 PetStore 來管理突破狀態\r\n\r\n    return {\r\n      petStore,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadUserData();\r\n  },\r\n  methods: {\r\n    loadUserData() {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const userRef = ref(database, `users/${userId}`);\r\n      onValue(userRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        this.coins = data.virtualCoins;\r\n        this.diamonds = data.diamonds;\r\n        this.lastExchangeDate = data.lastExchangeDate;\r\n      });\r\n    },\r\n    switchPage() {\r\n      this.internalPage = !this.internalPage;\r\n      this.pageName = this.internalPage ? '內部商城' : '外部商城';\r\n    },\r\n    purchaseByDiamond(product) {\r\n      if (this.diamonds >= product.price) {\r\n        // update user's diamonds\r\n        const newDiamonds = this.diamonds - product.price;\r\n        const userRef = ref(database, `users/${JSON.parse(localStorage.getItem(\"user\")).uid}`);\r\n        update(userRef, { diamonds: newDiamonds })\r\n          .then(() => {\r\n            console.log(\"Diamonds updated successfully!\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error updating diamonds:\", error);\r\n            alert(\"Error updating diamonds. Please try again later.\");\r\n          });\r\n        if (product.id === 10) {\r\n          this.isPopupVisible = true; // 顯示成就解鎖彈窗\r\n          this.stuffTitle = product.name;\r\n          this.stuffDescription = '你成功購買了' + product.name + '！';\r\n          this.stuffImage = './'+product.qrCode;\r\n        }\r\n        else if (product.id === 11) {\r\n          this.isPopupVisible = true; // 顯示成就解鎖彈窗\r\n          this.stuffTitle = product.name;\r\n          this.stuffDescription = '你成功購買了' + product.name + '！';\r\n          this.stuffImage = './'+product.qrCode;\r\n        } else {\r\n          this.isPopupVisible = true; // 顯示成就解鎖彈窗\r\n          this.stuffTitle = product.name;\r\n          this.stuffDescription = '你成功購買了' + product.name + '！';\r\n          this.stuffImage = './product_img/'+product.img;\r\n        }\r\n      }\r\n    },\r\n    purchase(product) {\r\n      if (this.checkCoins(product.price)) {\r\n        \r\n\r\n        // update user's virtualCoins\r\n        const newCoins = this.coins - product.price;\r\n        const userRef = ref(database, `users/${JSON.parse(localStorage.getItem(\"user\")).uid}`);\r\n        update(userRef, { virtualCoins: newCoins })\r\n          .then(() => {\r\n            console.log(\"Coins updated successfully!\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error updating coins:\", error);\r\n            alert(\"Error updating coins. Please try again later.\");\r\n          });\r\n\r\n        if (product.id === 4) {\r\n          this.petStore.hasBrokenThrough = true; // 設置突破狀態\r\n          this.petStore.syncBreakthroughStatus(); // 同步突破狀態到 Firebase\r\n          this.isPopupVisible = true; // 顯示成就解鎖彈窗\r\n          this.stuffTitle = product.name;\r\n          this.stuffDescription = '你的寵物突破了！';\r\n          this.stuffImage = './product_img/'+product.img;\r\n        }\r\n        else{\r\n          this.isPopupVisible = true; // 顯示成就解鎖彈窗\r\n          this.stuffTitle = product.name;\r\n          this.stuffDescription = '你成功購買了' + product.name + '！';\r\n          this.stuffImage = './product_img/'+product.img;\r\n        }\r\n\r\n      }\r\n    },\r\n    checkCoins(price) {\r\n      if (this.coins >= price) {\r\n        return true;\r\n      } else {\r\n        // alert(\"You don't have enough coins!\\n You have \" + this.coins + \" coins.\");\r\n        return false;\r\n      }\r\n    },\r\n    canBuyDiamonds() {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      if (this.lastExchangeDate === today  || this.coins < 100) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    purchaseDiamonds() {\r\n      // check last time user bought diamonds\r\n      const today = new Date().toISOString().split('T')[0];\r\n      if (this.lastExchangeDate === today) {\r\n        alert(\"You can only buy diamonds once a day!\");\r\n        return;\r\n      }\r\n\r\n      // check if user has enough coins\r\n      if (!this.checkCoins(100)) {\r\n        //alert(\"You don't have enough coins to buy diamonds!\");\r\n        return;\r\n      }\r\n      // update user's diamonds\r\n      const newDiamonds = this.diamonds + 10;\r\n      const newVirtualCoins = this.coins - 100;\r\n      if (this.lastExchangeDate === undefined) {\r\n        const dateRef = ref(database, `users/${JSON.parse(localStorage.getItem(\"user\")).uid}/lastExchangeDate`);\r\n        set(dateRef, today)\r\n          .then(() => {\r\n            console.log(\"update lastExchangeDate successfully!\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error updating diamonds:\", error);\r\n            alert(\"Error updating diamonds. Please try again later.\");\r\n          });\r\n        update(this.userRef, { virtualCoins: newVirtualCoins, diamonds: newDiamonds })\r\n          .then(() => {\r\n            console.log(\"Diamonds updated successfully!\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error updating diamonds:\", error);\r\n            alert(\"Error updating diamonds. Please try again later.\");\r\n          });\r\n      } else {\r\n        const newDiamonds = this.diamonds + 10;\r\n        const newVirtualCoins = this.coins - 100;\r\n        const userRef = ref(database, `users/${JSON.parse(localStorage.getItem(\"user\")).uid}`);\r\n        update(userRef, {\r\n          virtualCoins: newVirtualCoins, diamonds: newDiamonds,\r\n          lastExchangeDate: today\r\n        })\r\n          .then(() => {\r\n            console.log(\"Diamonds updated successfully!\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error updating diamonds:\", error);\r\n            alert(\"Error updating diamonds. Please try again later.\");\r\n          });\r\n      }\r\n      this.isPopupVisible = true; // 顯示成就解鎖彈窗\r\n      this.stuffTitle = '鑽石';\r\n      this.stuffDescription = '你成功兌換了 10 鑽石！';\r\n      this.stuffImage = './diamond.png';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#shop-page {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n  /*justify-content: center;*/\r\n  margin-top: 20px;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  background-color: #d3dadb;\r\n  height: 80%;\r\n  width: 90%;\r\n  align-items: center;\r\n  border-radius: 30px;\r\n}\r\n\r\n.switch-btn {\r\n  display: flex;\r\n  flex-direction: raw;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 55px;\r\n  width: 80%;\r\n  background-color: #ecf0f1;\r\n  border-radius: 10px;\r\n  margin-bottom: 1%;\r\n}\r\n\r\n.switch-btn,\r\n.switch-btn:focus {\r\n  position: relative;\r\n  min-width: 200px;\r\n  height: 50px;\r\n  background-color: #e28b6c;\r\n  border-radius: 4em;\r\n  color: white;\r\n  font-size: 1rem;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  transition-duration: 0.4s;\r\n  padding: 10px 20px;\r\n}\r\n\r\n.switch-btn:hover {\r\n  background-color: #e28b6c;\r\n  color: white;\r\n  transition-duration: 0.1s;\r\n}\r\n\r\n.switch-btn:after {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 0;\r\n  transition: all 0.5s;\r\n  box-shadow: 0 0 10px 40px #df4e19;\r\n  border-radius: 4em;\r\n}\r\n\r\n.switch-btn:active:after {\r\n  opacity: 1;\r\n  transition: 0s;\r\n  box-shadow: 0 0 0 0 white;\r\n}\r\n\r\n.switch-btn:active {\r\n  top: 1px;\r\n}\r\n\r\n.stuff {\r\n  margin-top: 5%;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  width: 100%;\r\n  gap: 10px;\r\n  align-items: stretch;\r\n  ;\r\n}\r\n\r\n.product {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  border-radius: 10px;\r\n  background-color: #2c3e50;\r\n  color: white;\r\n  box-sizing: border-box;\r\n  padding: 5px;\r\n  text-align: center;\r\n  object-fit: cover;\r\n  height: 100%;\r\n  align-items: center;\r\n}\r\n\r\n.product-img {\r\n  width: 40%;\r\n  height: auto;\r\n  object-fit: cover;\r\n  border-radius: 5px;\r\n  align-self: center;\r\n  margin-top: 10px;\r\n}\r\n\r\n.buy-btn {\r\n  width: 40%;\r\n  border-radius: 10px;\r\n  background-color: #1e587e;\r\n  color: white;\r\n  border: 1px solid #3498db;\r\n  padding: 5px 5px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  margin-top: 5%;\r\n  margin-bottom: 5%;\r\n}\r\n.buy-btn:hover {\r\n  background-color: #2980b9;\r\n}\r\n\r\n.external-stuff {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.diamond-exchange {\r\n  width: 100%;\r\n  height: 23%;\r\n  background: linear-gradient(135deg, #3498db, #8e44ad);\r\n  border-radius: 15px;\r\n  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);\r\n  justify-content: center;\r\n  color: #fff;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  align-items: center;\r\n  transition: transform 0.4s ease, box-shadow 0.4s ease;\r\n  position: relative;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  margin-top: 5%;\r\n}\r\n\r\n.diamond-exchange::before {\r\n  content: '';\r\n  position: absolute;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  transform: rotate(45deg);\r\n  transition: all 0.5s ease;\r\n}\r\n\r\n.diamond-exchange:hover::before {\r\n  top: -20%;\r\n  left: -20%;\r\n}\r\n\r\n.diamond-exchange:hover {\r\n  box-shadow: 0px 15px 30px rgba(0, 0, 0, 0.3);\r\n\r\n}\r\n\r\n.icon {\r\n  margin-right: 15px;\r\n}\r\n</style>","<template>\r\n    <div class=\"popup-container\" v-if=\"isVisible\">\r\n      <div class=\"popup-background\" @click=\"closePopup\"></div>\r\n      <div class=\"popup-content\" ref=\"popupContent\">\r\n        <h1>{{ title }}</h1>\r\n        <p>{{ description }}</p>\r\n        <img v-if=\"image\" :src=\"image\" alt=\"Achievement\" class=\"achievement-image\" />\r\n        <br>\r\n        <button class=\"close-button\" @click=\"closePopup\">完成</button>\r\n      </div>\r\n      <div id=\"particles-js\"></div> <!-- 粒子效果的容器 -->\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { gsap } from \"gsap\";\r\n  \r\n  export default {\r\n    props: {\r\n      title: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n      description: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n      image: {\r\n        type: String,\r\n        required: true,\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        isVisible: true,\r\n      };\r\n    },\r\n    mounted() {\r\n      this.animatePopup();\r\n      this.startParticleEffect();\r\n    },\r\n    methods: {\r\n      animatePopup() {\r\n        gsap.from(this.$refs.popupContent, {\r\n          scale: 0,\r\n          duration: 0.5,\r\n          ease: \"back.out(1.7)\",\r\n        });\r\n        gsap.from(\".popup-background\", {\r\n          opacity: 0,\r\n          duration: 0.5,\r\n          ease: \"power2.out\",\r\n        });\r\n      },\r\n      closePopup() {\r\n        gsap.to(this.$refs.popupContent, {\r\n          scale: 0,\r\n          duration: 0.5,\r\n          ease: \"back.in(1.7)\",\r\n          onComplete: () => {\r\n            this.isVisible = false;\r\n            this.$emit(\"close\");\r\n          },\r\n        });\r\n        gsap.to(\".popup-background\", {\r\n          opacity: 0,\r\n          duration: 0.5,\r\n          ease: \"power2.out\",\r\n        });\r\n      },\r\n      startParticleEffect() {\r\n        const interval = setInterval(() => {\r\n          this.createParticlesAtRandomPosition();\r\n        }, 100); // 每 200ms 觸發一次\r\n  \r\n        setTimeout(() => {\r\n          clearInterval(interval);\r\n        }, 5000); // 持續 5 秒\r\n      },\r\n      createParticlesAtRandomPosition() {\r\n        const particlesCount = 50;\r\n        const particlesContainer = document.getElementById('particles-js');\r\n        if (!particlesContainer) {\r\n          console.error('Particles container not found');\r\n          return;\r\n        }\r\n  \r\n        const x = Math.random() * window.innerWidth;\r\n        const y = Math.random() * window.innerHeight;\r\n  \r\n        for (let i = 0; i < particlesCount; i++) {\r\n          const particle = document.createElement('div');\r\n          particle.className = 'particle';\r\n          particle.style.left = `${x}px`;\r\n          particle.style.top = `${y}px`;\r\n          particle.style.backgroundColor = this.getRandomColor(); // 設置隨機顏色\r\n          particlesContainer.appendChild(particle);\r\n  \r\n          const randomX = Math.random() * 200 - 100;\r\n          const randomY = Math.random() * 200 - 100;\r\n  \r\n          gsap.to(particle, {\r\n            x: randomX,\r\n            y: randomY,\r\n            opacity: 0,\r\n            duration: 2.5,\r\n            onComplete: () => particle.remove(),\r\n          });\r\n        }\r\n      },\r\n      getRandomColor() {\r\n            const hue = Math.floor(Math.random() * 360); // 隨機生成色相 (0-360 度)\r\n            const saturation = 80 + Math.random() * 20; // 彩度範圍 (80%-100%)\r\n            const lightness = 50 + Math.random() * 10; // 明度範圍 (50%-60%)\r\n            return `hsl(${hue}, ${saturation}%, ${lightness}%)`;\r\n        }\r\n\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .popup-container {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 1000;\r\n  }\r\n  \r\n  .popup-background {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n  }\r\n  \r\n  .popup-content {\r\n    background: rgba(255, 255, 255, 0.9);\r\n    border-radius: 10px;\r\n    padding: 20px;\r\n    text-align: center;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\r\n    z-index: 1001;\r\n  }\r\n  \r\n  .achievement-image {\r\n    max-width: 50%;\r\n    height: auto;\r\n    margin: 10px 10px;\r\n  }\r\n  \r\n  .close-button {\r\n    padding: 10px 20px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    background-color: #ff5349;\r\n    color: white;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n  }\r\n  \r\n  .close-button:hover {\r\n    background-color: #f29c97;\r\n  }\r\n  \r\n  #particles-js {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    pointer-events: none;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .particle {\r\n    position: absolute;\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: #ffcc00; /* 這個會被隨機顏色覆蓋 */\r\n    border-radius: 50%;\r\n    pointer-events: none;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./AchievementPopup.vue?vue&type=template&id=05e5f3e4&scoped=true\"\nimport script from \"./AchievementPopup.vue?vue&type=script&lang=js\"\nexport * from \"./AchievementPopup.vue?vue&type=script&lang=js\"\n\nimport \"./AchievementPopup.vue?vue&type=style&index=0&id=05e5f3e4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-05e5f3e4\"]])\n\nexport default __exports__","import { render } from \"./ShopPage.vue?vue&type=template&id=c602442c&scoped=true\"\nimport script from \"./ShopPage.vue?vue&type=script&lang=js\"\nexport * from \"./ShopPage.vue?vue&type=script&lang=js\"\n\nimport \"./ShopPage.vue?vue&type=style&index=0&id=c602442c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c602442c\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"task-page\">\r\n        <h2>Add New Task</h2>\r\n        <form @submit.prevent=\"addTask\">\r\n            <div class=\"form-group\">\r\n                <input v-model=\"newTaskDescription\" placeholder=\"Enter task description\" required />\r\n            </div>\r\n            <button type=\"submit\">Add Task</button>\r\n        </form>\r\n\r\n        <h2>Existing Tasks</h2>\r\n        <ul>\r\n            <li v-for=\"task in tasks\" :key=\"task.id\">\r\n                {{ task.description }} - Status: {{ task.status }}\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, push, onValue } from \"firebase/database\";\r\nimport { database } from \"../firebase\"; // 引入 Firebase Realtime Database\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            newTaskDescription: \"\", // 新任務描述\r\n            tasks: [] // 現有任務列表\r\n        };\r\n    },\r\n    mounted() {\r\n        this.loadTasks();\r\n    },\r\n    methods: {\r\n        addTask() {\r\n            const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n            const tasksRef = ref(database, `users/${userId}/tasks`);\r\n            const newTask = {\r\n                description: this.newTaskDescription,\r\n                status: \"not started\"\r\n            };\r\n\r\n            // 將新任務推送到 Firebase\r\n            push(tasksRef, newTask)\r\n                .then(() => {\r\n                    this.newTaskDescription = \"\"; // 清空輸入框\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error adding task:\", error);\r\n                });\r\n        },\r\n        loadTasks() {\r\n            const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n            const tasksRef = ref(database, `users/${userId}/tasks`);\r\n\r\n            // 監聽任務列表的變化\r\n            onValue(tasksRef, (snapshot) => {\r\n                const data = snapshot.val();\r\n                const tasksArray = [];\r\n\r\n                for (const key in data) {\r\n                    tasksArray.push({\r\n                        id: key,\r\n                        ...data[key]\r\n                    });\r\n                }\r\n\r\n                this.tasks = tasksArray;\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.task-page {\r\n    max-width: 400px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.form-group {\r\n    margin-bottom: 10px;\r\n}\r\n</style>","import { render } from \"./TaskPage.vue?vue&type=template&id=fd79bf86&scoped=true\"\nimport script from \"./TaskPage.vue?vue&type=script&lang=js\"\nexport * from \"./TaskPage.vue?vue&type=script&lang=js\"\n\nimport \"./TaskPage.vue?vue&type=style&index=0&id=fd79bf86&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fd79bf86\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"profile-page\">\r\n        <div style=\"margin-top: 100px;\"></div>\r\n        <div v-show=\"achievements.length > 0\" style=\"margin-top: 850px;\"></div>\r\n\r\n        <h1 class=\"title\">個人資料頁面</h1>\r\n\r\n        <!-- 初始化成就按鈕 -->\r\n        <button @click=\"initializeAchievements\" class=\"initialize-btn\">Reset</button>\r\n\r\n        <!-- 員工資訊區域，包含頭像和更改頭像功能 -->\r\n        <div class=\"employee-info\">\r\n            <h2>員工資訊</h2>\r\n\r\n            <!-- 頭像與更改頭像功能 -->\r\n            <div class=\"avatar-section\">\r\n                <label for=\"avatar-upload\" class=\"avatar-label\">\r\n                    <img :src=\"userAvatar\" alt=\"User Avatar\" class=\"avatar-image\" />\r\n                    <span>更改頭像</span>\r\n                </label>\r\n                <input type=\"file\" id=\"avatar-upload\" @change=\"uploadAvatar\" accept=\"image/*\" class=\"avatar-input\" />\r\n            </div>\r\n\r\n            <!-- 員工詳細資料 -->\r\n            <p><strong>員工 ID：</strong> {{ employeeId }}</p>\r\n            <p><strong>姓名：</strong> {{ name }}</p>\r\n            <p><strong>聘用日期：</strong> {{ hiringDate }}</p>\r\n            <p><strong>職位：</strong>\r\n                <span v-if=\"position\">{{ position }}</span>\r\n                <span v-else>\r\n                    <select v-model=\"selectedPosition\" class=\"pos-select\">\r\n                        <option value=\"\">請選擇職位</option>\r\n                        <option v-for=\"pos in allPositions\" :key=\"pos\" :value=\"pos\">{{ pos }}</option>\r\n                    </select>\r\n                    <button class=\"pos-save-btn\" @click=\"pushPosition\">儲存</button>\r\n                </span>\r\n            </p>\r\n            <p><strong>生日：</strong> {{ birthdate }}</p>\r\n\r\n            <!-- 直屬-->\r\n            <p><strong>直屬：</strong> {{ mentor }}</p>\r\n\r\n            <!-- 新增請心理假的按鈕 -->\r\n            <button @click=\"openLeaveCalendar\" class=\"leave-btn\">💔 申請心理假 💔</button>\r\n        </div>\r\n\r\n        <div class=\"achievements\">\r\n            <h2>Achievements</h2>\r\n\r\n            <!-- 已完成成就區塊 -->\r\n            <div class=\"achievements-completed\">\r\n                <h3>已完成</h3>\r\n                <div v-for=\"achievement in completedAchievements\" :key=\"achievement.id\"\r\n                    class=\"achievement-item completed\" @click=\"showAchievementDetails(achievement)\">\r\n                    <img :src=\"achievement.icon\" :alt=\"achievement.description\" class=\"achievement-icon\" />\r\n                    <p>{{ achievement.name }}</p>\r\n                    <p>{{ achievement.description }}</p>\r\n                </div>\r\n                <hr />\r\n            </div>\r\n\r\n            <!-- 未完成成就區塊 -->\r\n            <div class=\"achievements-incomplete\">\r\n                <h3>未完成</h3>\r\n                <div v-for=\"achievement in incompleteAchievements\" :key=\"achievement.id\" class=\"achievement-item\"\r\n                    @click=\"completeAchievement(achievement)\">\r\n                    <img :src=\"achievement.icon\" :alt=\"achievement.description\"\r\n                        :class=\"{ 'incomplete-icon': !achievement.completed }\" class=\"achievement-icon\" />\r\n                    <p>{{ achievement.name }}</p>\r\n                    <p>{{ achievement.description }}</p>\r\n                </div>\r\n                <hr />\r\n            </div>\r\n        </div>\r\n        <AchievementPopup v-if=\"isPopupVisible\" :title=\"popupTitle\" :description=\"popupDescription\" :image=\"popupImage\"\r\n            @close=\"isPopupVisible = false\" />\r\n        <div v-if=\"showDialog\" class=\"dialog-overlay\">\r\n            <div class=\"dialog\">\r\n                <p>{{ dialogContent }}</p>\r\n                <button @click=\"closeDialog\">關閉</button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 心理假日期選擇彈窗 -->\r\n        <div v-if=\"showCalendar\" class=\"calendar-overlay\">\r\n            <div class=\"calendar-dialog\">\r\n                <input type=\"date\" v-model=\"leaveDate\" class=\"calendar-input\" />\r\n                <button @click=\"submitLeaveRequest\" class=\"calendar-submit-btn\">送出申請</button>\r\n                <button @click=\"closeCalendar\" class=\"calendar-close-btn\">取消</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'; // 確保引入 onMounted\r\nimport { ref as firebaseRef, update, onValue, set } from 'firebase/database'; // 引入 Firebase 相關 API\r\nimport { database } from '@/firebase'; // 引入初始化的 Firebase 服務\r\nimport AchievementPopup from '../components/AchievementPopup.vue';\r\nimport { useUserStore } from '@/stores/userStore'; // 引入用戶狀態管理\r\nexport default {\r\n    components: {\r\n        AchievementPopup,\r\n    },\r\n    data() {\r\n        return {\r\n            selectedPosition: '', // 用來暫存選擇的職位\r\n            position: null, // 用來顯示職位\r\n        };\r\n    },\r\n    mounted() {\r\n        const userId = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")).uid : null;\r\n        if (userId) {\r\n            const userPosRef = firebaseRef(database, `users/${userId}/position`);\r\n            onValue(userPosRef, (snapshot) => {\r\n                const data = snapshot.val();\r\n                if (data) {\r\n                    this.position = data;\r\n                    this.selectedPosition = data;\r\n                }\r\n                // console.log('職位資料已載入：', data);\r\n            });\r\n        }\r\n    },\r\n    setup() {\r\n        const userAvatar = ref(\"/default-avatar.png\"); // 預設頭像\r\n        const achievements = ref([]); // 用來存儲成就資料\r\n        const diamonds = ref(0); // 紀錄用戶的鑽石數量\r\n        const position = ref(null); // 用戶的職位\r\n        const popupTitle = ref('');\r\n        const popupDescription = ref('');\r\n        const popupImage = ref('');\r\n        const isPopupVisible = ref(false);\r\n        // 員工資料，寫死在前端\r\n        const employeeId = ref(\"123456\"); // 6 位數的員工ID\r\n        const hiringDate = ref(\"2020-05-01\"); // 聘用日期\r\n        // const name = ref(\"catfish\"); // 員工姓名\r\n        const birthdate = ref(\"1990-01-15\"); // 員工生日\r\n\r\n        const userStore = useUserStore();\r\n        const name = ref(userStore.user.displayName); // 員工姓名\r\n\r\n        const allPositions = [\r\n            'Software Engineer',\r\n            'Frontend Engineer',\r\n            'Backend Engineer',\r\n            'Full Stack Engineer',\r\n            'DevOps Engineer',\r\n            'Data Engineer',\r\n            'Machine Learning Engineer',\r\n            'AI Engineer',\r\n            'Cloud Engineer',\r\n            'Security Engineer'\r\n        ];\r\n        // 新增直屬\r\n        const mentor = ref(\"Mentor Name\"); // 直屬姓名\r\n\r\n        const completedAchievements = computed(() =>\r\n            achievements.value.filter(achievement => achievement.completed)\r\n        );\r\n        const incompleteAchievements = computed(() =>\r\n            achievements.value.filter(achievement => !achievement.completed)\r\n        );\r\n\r\n        const showDialog = ref(false);\r\n        const dialogContent = ref(\"\");\r\n\r\n        // 心理假相關狀態\r\n        const showCalendar = ref(false);\r\n        const leaveDate = ref(null);\r\n\r\n        // 初始化 Firebase 上的用戶數據，包含鑽石數量\r\n        const initializeUserData = (userId) => {\r\n            const userRef = firebaseRef(database, `users/${userId}`);\r\n            onValue(userRef, (snapshot) => {\r\n                const data = snapshot.val();\r\n                if (data) {\r\n                    diamonds.value = data.diamonds || 0; // 獲取當前鑽石數量\r\n                    position.value = data.position || null; // 獲取職位資料\r\n                }\r\n            });\r\n        };\r\n\r\n        // 更換頭像及完成成就\r\n        const uploadAvatar = async (event) => {\r\n            const file = event.target.files[0];\r\n            if (file) {\r\n                userAvatar.value = URL.createObjectURL(file);\r\n                const firstAvatarChange = achievements.value.find((achievement) => achievement.id === 'first-avatar-change');\r\n                if (firstAvatarChange && !firstAvatarChange.completed) {\r\n                    firstAvatarChange.completed = true;\r\n                    completeAchievement(firstAvatarChange); // 完成成就\r\n                }\r\n            }\r\n        };\r\n\r\n        // 完成成就後，增加 300 鑽石\r\n        const completeAchievement = async (achievement) => {\r\n            achievement.completed = true;\r\n            updateAchievements(); // 更新成就狀態\r\n\r\n            // 在現有鑽石基礎上增加 300 鑽石\r\n            diamonds.value += 300;\r\n            await updateFirebaseDiamonds(); // 將變更同步至 Firebase\r\n            // alert(`成就完成！你獲得了 300 鑽石，當前鑽石總數為：${diamonds.value}`);\r\n            popupTitle.value = \"成就完成：\" + achievement.name;\r\n            popupDescription.value = \"你獲得了 300 鑽石，當前鑽石總數為：\" + diamonds.value;\r\n            popupImage.value = achievement.icon;\r\n            isPopupVisible.value = true;\r\n\r\n        };\r\n\r\n        // 更新 Firebase 上的鑽石數量\r\n        const updateFirebaseDiamonds = async () => {\r\n            const userId = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")).uid : null;\r\n            if (userId) {\r\n                const userRef = firebaseRef(database, `users/${userId}`);\r\n                await update(userRef, {\r\n                    diamonds: diamonds.value, // 更新鑽石數量\r\n                });\r\n                console.log('鑽石數量已更新至 Firebase:', diamonds.value);\r\n            }\r\n        };\r\n\r\n        // 更新成就資料\r\n        const updateAchievements = () => {\r\n            achievements.value = [...achievements.value];\r\n        };\r\n\r\n        // 初始化按鈕：初始化成就\r\n        const initializeAchievements = () => {\r\n            const defaultAchievements = [\r\n                {\r\n                    id: 'login-three-times',\r\n                    name: '登入三次',\r\n                    description: '登入三次的成就',\r\n                    completed: false,\r\n                    icon: 'badge/login-three-times-badge.png',\r\n                },\r\n                {\r\n                    id: 'first-avatar-change',\r\n                    name: '第一次換頭像',\r\n                    description: '首次更換頭像的成就',\r\n                    completed: false,\r\n                    icon: 'badge/firstTime.webp',\r\n                },\r\n                {\r\n                    id: 'employee-of-the-year',\r\n                    name: '年度最佳員工',\r\n                    description: '獲得年度最佳員工的成就',\r\n                    completed: false,\r\n                    icon: 'badge/employOfTheYear.png',\r\n                }\r\n            ];\r\n\r\n            achievements.value = defaultAchievements;\r\n            // alert(\"成就資料初始化完成！\");\r\n        };\r\n\r\n        const showAchievementDetails = (achievement) => {\r\n            dialogContent.value = (achievement.description || achievement.name) + '\\n可兌換300鑽石';\r\n            showDialog.value = true;\r\n        };\r\n\r\n        const closeDialog = () => {\r\n            showDialog.value = false;\r\n        };\r\n\r\n        // 申請心理假功能\r\n        const openLeaveCalendar = () => {\r\n            showCalendar.value = true;\r\n        };\r\n\r\n        const closeCalendar = () => {\r\n            showCalendar.value = false;\r\n        };\r\n\r\n        const submitLeaveRequest = () => {\r\n            if (leaveDate.value) {\r\n                alert(`心理假申請已送出，選擇的日期為：${leaveDate.value}，請等待管理員批准。`);\r\n                showCalendar.value = false;\r\n            } else {\r\n                alert(\"請選擇一個日期。\");\r\n            }\r\n        };\r\n\r\n        // 初始化用戶數據，獲取當前的鑽石數量\r\n        onMounted(() => {\r\n            const userId = localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")).uid : null;\r\n            if (userId) {\r\n                initializeUserData(userId);\r\n            }\r\n        });\r\n\r\n        return {\r\n\r\n            userAvatar,\r\n            employeeId,\r\n            hiringDate,\r\n            name,\r\n            birthdate,\r\n            mentor, // 新增直屬\r\n            allPositions, // 新增職位選項\r\n            achievements,\r\n            completedAchievements,\r\n            incompleteAchievements,\r\n            diamonds,\r\n            uploadAvatar,\r\n            showDialog,\r\n            dialogContent,\r\n            showAchievementDetails,\r\n            closeDialog,\r\n            initializeAchievements,\r\n            completeAchievement,\r\n            openLeaveCalendar, // 開啟心理假日曆選擇\r\n            closeCalendar, // 關閉心理假日曆選擇\r\n            submitLeaveRequest, // 提交心理假申請\r\n            showCalendar,\r\n            leaveDate,\r\n            isPopupVisible,\r\n            popupTitle,\r\n            popupDescription,\r\n            popupImage,\r\n\r\n        };\r\n    },\r\n    methods: {\r\n        pushPosition() {\r\n            const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n            if (userId) {\r\n                const userPosRef = firebaseRef(database, `users/${userId}/position`);\r\n                this.selectedPosition;\r\n                set(userPosRef, this.selectedPosition)\r\n                    .then(() => {\r\n                        console.log(\"Position updated successfully!\");\r\n                        this.position = this.selectedPosition;\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error(\"Error updating position:\", error);\r\n                        alert(\"Error updating position. Please try again later.\");\r\n                    });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.profile-page {\r\n    padding: 20px;\r\n    margin-top: 40px;\r\n    /* 加入 margin-top，確保整個頁面向下平移 */\r\n}\r\n\r\n.employee-info p {\r\n    text-align: left;\r\n}\r\n\r\n/* button 樣式 */\r\n.pos-save-btn {\r\n    background-color: #ff5349;\r\n    color: #fff;\r\n    border: none;\r\n    padding: 3px 15px;\r\n    border-radius: 5px;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s ease, transform 0.2s ease;\r\n}\r\n\r\n.pos-save-btn:hover {\r\n    background-color: #ff958f;\r\n}\r\n\r\n.pos-save-btn:active {\r\n    background-color: #fa9a95;\r\n    transform: scale(0.98);\r\n}\r\n\r\n.pos-save-btn:focus {\r\n    outline: none;\r\n    box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);\r\n}\r\n\r\n.avatar-section {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.avatar-label {\r\n    cursor: pointer;\r\n}\r\n\r\n.avatar-image {\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 50%;\r\n    object-fit: cover;\r\n    border: 2px solid #ccc;\r\n}\r\n\r\n.achievements {\r\n    margin-top: 20px;\r\n}\r\n\r\n.achievements-completed,\r\n.achievements-incomplete {\r\n    padding-bottom: 40px;\r\n}\r\n\r\n.achievements-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.achievement-item {\r\n    margin: 10px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n}\r\n\r\n.achievement-icon {\r\n    width: 150px;\r\n    height: 150px;\r\n}\r\n\r\n.completed {\r\n    opacity: 1;\r\n}\r\n\r\n.incomplete-icon {\r\n    opacity: 0.4;\r\n    /* 未完成成就的圖標顏色較淺 */\r\n}\r\n\r\n.dialog-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.dialog {\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 5px;\r\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.initialize-btn {\r\n    padding: 10px 20px;\r\n    background-color: #ff5349;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.initialize-btn:hover {\r\n    background-color: #ec9591;\r\n}\r\n\r\n/* 員工資料樣式 */\r\n.employee-info {\r\n    margin-top: 20px;\r\n    padding: 20px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 10px;\r\n    background-color: #f9f9f9;\r\n    text-align: center;\r\n    /* 中心對齊員工資訊 */\r\n}\r\n\r\n.employee-info .avatar-section {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.leave-btn {\r\n    padding: 10px 20px;\r\n    background-color: #3f1510;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    margin-top: 15px;\r\n}\r\n\r\n.leave-btn:hover {\r\n    background-color: #ef8a84;\r\n}\r\n\r\n.calendar-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.calendar-dialog {\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 5px;\r\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);\r\n    text-align: center;\r\n}\r\n\r\n.calendar-input {\r\n    margin-bottom: 15px;\r\n    padding: 10px;\r\n    font-size: 16px;\r\n}\r\n\r\n.calendar-submit-btn {\r\n    padding: 10px 20px;\r\n    background-color: #27ae60;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.calendar-submit-btn:hover {\r\n    background-color: #219150;\r\n}\r\n\r\n.calendar-close-btn {\r\n    padding: 10px 20px;\r\n    background-color: #e74c3c;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n}\r\n\r\n.calendar-close-btn:hover {\r\n    background-color: #c0392b;\r\n}\r\n</style>\r\n","import { render } from \"./ProfilePage.vue?vue&type=template&id=a9859e0e&scoped=true\"\nimport script from \"./ProfilePage.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilePage.vue?vue&type=script&lang=js\"\n\nimport \"./ProfilePage.vue?vue&type=style&index=0&id=a9859e0e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a9859e0e\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"task-page\">\r\n      <!-- Button to trigger popup -->\r\n      <button @click=\"showPopup = true\" class=\"add-task-btn\">+</button>\r\n  \r\n      <!-- Task list display -->\r\n      <ul class=\"task-list\">\r\n        <li v-for=\"task in tasks\" :key=\"task.id\" class=\"task-item\">\r\n          <div class=\"task-card\">\r\n            <div class=\"task-header\">\r\n              <span class=\"task-username\">{{ task.username }}</span>\r\n              <span class=\"task-time\">{{ task.published_time }}</span>\r\n            </div>\r\n            <div class=\"task-body\">\r\n              <span class=\"task-description\">{{ task.description }}</span>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n  \r\n      <!-- Popup modal for adding a new task -->\r\n      <div v-if=\"showPopup\" class=\"popup-modal\">\r\n        <div class=\"popup-content\">\r\n          <h3>Add New Task</h3>\r\n          <form @submit.prevent=\"addTask\">\r\n            <input v-model=\"newTaskUsername\" placeholder=\"Enter username\" required />\r\n            <input v-model=\"newTaskDescription\" placeholder=\"Enter task description\" required />\r\n            <div class=\"popup-buttons\">\r\n              <button type=\"submit\">Add Task</button>\r\n              <button @click=\"showPopup = false\">Cancel</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <style scoped>\r\n  /* Center the entire task page */\r\n  .task-page {\r\n\r\n    width:100%;\r\n    /* width: 100%; */\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 20px;\r\n    margin-top: 20vh;\r\n  }\r\n  \r\n  /* Style for the add task button */\r\n  .add-task-btn {\r\n    margin-bottom: 20px;\r\n    font-size: 24px;\r\n    padding: 10px 20px;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  /* Remove default list styles and center the task list */\r\n  .task-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    list-style-type: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    width: 100%;\r\n    /* max-width: 600px; Adjust the max-width as needed */\r\n  }\r\n  \r\n  /* Center each task item */\r\n  .task-item {\r\n    width: 100%;\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  /* Style for the task card */\r\n  .task-card {\r\n    border: 1px solid #ccc;\r\n    padding: 15px;\r\n    border-radius: 8px;\r\n    background-color: #f9f9f9;\r\n  }\r\n  \r\n  /* Style for the task header */\r\n  .task-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 10\r\n  }\r\n</style>\r\n<script>\r\nimport { ref, push, onValue } from \"firebase/database\";\r\nimport { database } from \"../firebase\";\r\nimport { useUserStore } from \"@/stores/userStore\";\r\n\r\nexport default {\r\n    setup() {\r\n        const userStore = useUserStore();\r\n\r\n        // Using computed to make the data reactive\r\n        const user = userStore.user;\r\n\r\n        return {\r\n            user,\r\n        };\r\n    },\r\n    data() {\r\n        return {\r\n            newTaskDescription: \"\",\r\n            newTaskUsername: \"\",\r\n            tasks: [],\r\n            showPopup: false // Controls the visibility of the popup modal\r\n        };\r\n    },\r\n    mounted() {\r\n        this.loadTasks();\r\n    },\r\n    methods: {\r\n        addTask() {\r\n            const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n            const tasksRef = ref(database, `users/${userId}/tasks`);\r\n            const newTask = {\r\n                description: this.newTaskDescription,\r\n                username: this.user.displayName,\r\n                published_time: new Date().toISOString().split('T')[0], // Gets the current date in yyyy-mm-dd format\r\n                status: \"not started\"\r\n            };\r\n\r\n            // Push new task to Firebase\r\n            push(tasksRef, newTask)\r\n                .then(() => {\r\n                    this.newTaskDescription = \"\";\r\n                    this.newTaskUsername = \"\";\r\n                    this.showPopup = false; // Hide the popup after adding task\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error adding task:\", error);\r\n                });\r\n        },\r\n        loadTasks() {\r\n            //const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n            const tasksRef = ref(database, `tasks`);//users/${userId}/\r\n\r\n            onValue(tasksRef, (snapshot) => {\r\n                const data = snapshot.val();\r\n                const tasksArray = [];\r\n\r\n                for (const key in data) {\r\n                    tasksArray.push({\r\n                        id: key,\r\n                        ...data[key]\r\n                    });\r\n                }\r\n\r\n                this.tasks = tasksArray;\r\n            });\r\n        }\r\n    }\r\n};\r\n</script>\r\n<!-- <style scoped>\r\n.task-page {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    height: 100vh; /* Full height of the viewport */\r\n    padding: 10px;\r\n}\r\n\r\n.task-list {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    display: flex;\r\n    flex-direction: column; /* Ensure tasks are listed from top to bottom */\r\n    width: 100%;\r\n    height: 100%; /* Make sure the task list fills the available space */\r\n    overflow-y: auto; /* Allow scrolling if tasks overflow */\r\n}\r\n\r\n.task-item {\r\n    width: 100%; /* Make each task item take full width */\r\n    margin: 10px 0; /* Add space between task items */\r\n}\r\n\r\n.task-card {\r\n    background-color: #f4f4f4;\r\n    border: 1px solid #ccc;\r\n    border-radius: 8px;\r\n    padding: 15px;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n    height: 200px; /* Fixed height */\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n}\r\n\r\n.add-task-btn {\r\n    font-size: 2rem;\r\n    background-color: #28a745;\r\n    color: white;\r\n    border: none;\r\n    border-radius: 50%;\r\n    width: 60px;\r\n    height: 60px;\r\n    position: fixed;\r\n    bottom: 20px;\r\n    right: 20px;\r\n    cursor: pointer;\r\n}\r\n.popup-modal {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.popup-content {\r\n    background-color: white;\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    width: 300px;\r\n}\r\n</style> -->\r\n","import { render } from \"./New1TaskPage.vue?vue&type=template&id=dbf34e32&scoped=true\"\nimport script from \"./New1TaskPage.vue?vue&type=script&lang=js\"\nexport * from \"./New1TaskPage.vue?vue&type=script&lang=js\"\n\nimport \"./New1TaskPage.vue?vue&type=style&index=0&id=dbf34e32&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dbf34e32\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"task-page\">\r\n    <!-- Task Input Popup -->\r\n    <div v-if=\"showPopup\" class=\"popup\">\r\n      <div class=\"popup-content\">\r\n        <input v-model=\"newTaskTitle\" placeholder=\"Task title...\" class=\"input-title\" />\r\n        <textarea v-model=\"newTaskDescription\" placeholder=\"Describe your task...\" class=\"input-textarea\"></textarea>\r\n        <div class=\"popup-actions\">\r\n          <button @click=\"addTask\" class=\"btn btn-primary\">Add Task</button>\r\n          <button @click=\"cancelTask\" class=\"btn btn-secondary\">Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Task List -->\r\n    <div class=\"task-list\">\r\n      <button @click=\"navigateToSocial\" class=\"btn btn-social\">Go to Social</button>\r\n      <h2>Not Started</h2>\r\n      <div v-for=\"task in tasks.filter(task => task.status === 'not started')\" :key=\"task.id\" class=\"task-item\">\r\n        <div class=\"task-header\">\r\n          <span class=\"task-title\">{{ task.title }}</span>\r\n          <span class=\"task-username\">{{ task.username }}</span>\r\n          <span class=\"task-time\">{{ task.time }}</span>\r\n        </div>\r\n        <div class=\"task-description\">{{ task.description }}</div>\r\n        <button @click=\"updateTaskStatus(task.id, 'in progress')\" class=\"btn btn-primary\">Start the Event</button>\r\n        <button @click=\"toggleJoinTask(task.id)\" class=\"btn btn-secondary\">\r\n          <font-awesome-icon :icon=\"['fas', 'user']\" class=\"icon\" />\r\n          {{ isUserJoined(task) ? 'Disjoin' : 'Join' }} ({{ task.attendees ? Object.keys(task.attendees).length : 0 }})\r\n        </button>\r\n      </div>\r\n\r\n      <h2>In Progress</h2>\r\n      <div v-for=\"task in tasks.filter(task => task.status === 'in progress')\" :key=\"task.id\" class=\"task-item\">\r\n        <div class=\"task-header\">\r\n          <span class=\"task-title\">{{ task.title }}</span>\r\n          <span class=\"task-username\">{{ task.username }}</span>\r\n          <span class=\"task-time\">{{ task.time }}</span>\r\n        </div>\r\n        <div class=\"task-description\">{{ task.description }}</div>\r\n        <button @click=\"updateTaskStatus(task.id, 'completed')\" class=\"btn btn-primary\">End the Event</button>\r\n        <button @click=\"toggleJoinTask(task.id)\" class=\"btn btn-secondary\">\r\n          <font-awesome-icon :icon=\"['fas', 'user']\" class=\"icon\" />\r\n          {{ isUserJoined(task) ? 'Disjoin' : 'Join' }} ({{ task.attendees ? Object.keys(task.attendees).length : 0 }})\r\n        </button>\r\n      </div>\r\n\r\n      <h2>Completed</h2>\r\n      <div v-for=\"task in tasks.filter(task => task.status === 'completed')\" :key=\"task.id\" class=\"task-item\">\r\n        <div class=\"task-header\">\r\n          <span class=\"task-title\">{{ task.title }}</span>\r\n          <span class=\"task-username\">{{ task.username }}</span>\r\n          <span class=\"task-time\">{{ task.time }}</span>\r\n        </div>\r\n        <div class=\"task-description\">{{ task.description }}</div>\r\n        <button @click=\"toggleJoinTask(task.id)\" class=\"btn btn-secondary\">\r\n          <font-awesome-icon :icon=\"['fas', 'user']\" class=\"icon\" />\r\n          {{ isUserJoined(task) ? 'Disjoin' : 'Join' }} ({{ task.attendees ? Object.keys(task.attendees).length : 0 }})\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Add Task Button -->\r\n    <button class=\"add-task-btn\" @click=\"togglePopup\">\r\n      <font-awesome-icon :icon=\"['fas', 'plus']\" />\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, push, onValue, update, remove } from \"firebase/database\";\r\nimport { database } from \"../firebase\";\r\nimport { useUserStore } from \"@/stores/userStore\";\r\nimport { usePetStore } from '../stores/petStore'; // 引入狀態管理\r\n\r\nexport default {\r\n  setup() {\r\n    const userStore = useUserStore();\r\n    // Making user reactive via computed\r\n    const user = userStore.user;\r\n    const petStore = usePetStore();\r\n\r\n\r\n\r\n    return {\r\n      petStore,\r\n      user,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      newTaskTitle: \"\",\r\n      newTaskDescription: \"\",\r\n      tasks: [],\r\n      showPopup: false, // Controls the visibility of the popup modal\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadTasks();\r\n  },\r\n  methods: {\r\n    navigateToSocial() {\r\n      this.$router.push({ name: 'Social' });\r\n    },\r\n    togglePopup() {\r\n      this.showPopup = !this.showPopup;\r\n    },\r\n    addTask() {\r\n      // const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const tasksRef = ref(database, `tasks`); //users/${userId}/\r\n      const newTask = {\r\n        title: this.newTaskTitle,\r\n        description: this.newTaskDescription,\r\n        username: this.user ? this.user.displayName : \"Anonymous\", // Fallback for displayName\r\n        time: new Date().toISOString().split('T')[0], // yyyy-mm-dd format\r\n        status: \"not started\",\r\n        attendees: {},\r\n      };\r\n\r\n      // Push new task to Firebase\r\n      push(tasksRef, newTask)\r\n        .then(() => {\r\n          this.newTaskTitle = \"\";\r\n          this.newTaskDescription = \"\";\r\n          this.showPopup = false; // Hide the popup after adding task\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error adding task:\", error);\r\n        });\r\n    },\r\n    loadTasks() {\r\n      // const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const tasksRef = ref(database, `tasks`); //users/${userId}/\r\n\r\n      onValue(tasksRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        const tasksArray = [];\r\n\r\n        for (const key in data) {\r\n          tasksArray.push({\r\n            id: key,\r\n            ...data[key],\r\n          });\r\n        }\r\n\r\n        this.tasks = tasksArray;\r\n      });\r\n    },\r\n    updateTaskStatus(taskId, newStatus) {\r\n      // const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const taskRef = ref(database, `tasks/${taskId}`); //users/${userId}/\r\n\r\n      update(taskRef, { status: newStatus }).catch((error) => {\r\n        console.error(\"Error updating task status:\", error);\r\n      });\r\n    },\r\n    toggleJoinTask(taskId) {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const userName = this.user ? this.user.displayName : \"Anonymous\";\r\n      const taskRef = ref(database, `tasks/${taskId}/attendees/${userId}`);\r\n\r\n      if (this.isUserJoined(this.tasks.find(task => task.id === taskId))) {\r\n        remove(taskRef).catch((error) => {\r\n          console.error(\"Error disjoining task:\", error);\r\n        });\r\n      } else {\r\n        update(taskRef, { username: userName }).catch((error) => {\r\n          console.error(\"Error joining task:\", error);\r\n        });\r\n      }\r\n    },\r\n    isUserJoined(task) {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      return task.attendees && task.attendees[userId];\r\n    },\r\n    cancelTask() {\r\n      this.newTaskTitle = \"\";\r\n      this.newTaskDescription = \"\";\r\n      this.showPopup = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* General Layout */\r\n.task-page {\r\n  /*margin-top: 200px;*/\r\n  /* Space for NavBar */\r\n  /*margin-bottom: 200px;*/\r\n  /* Space for BottomBar */\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-items: center;\r\n  flex-wrap: wrap;\r\n  padding: 0;\r\n  background-color: #f4f7fa;\r\n  min-height: 100vh;\r\n  box-sizing: border-box;\r\n  width: 100vw;\r\n  height: 100%;\r\n}\r\n\r\n/* Add Task Button */\r\n.add-task-btn {\r\n  position: fixed;\r\n  bottom: 80px;\r\n  right: 20px;\r\n  background-color: #ff4500;\r\n  color: white;\r\n  border: none;\r\n  padding: 20px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 24px;\r\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);\r\n  transition: background-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.add-task-btn:hover {\r\n  background-color: #e87b54;\r\n  box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n/* Task List */\r\n.task-list {\r\n  padding: 20% 0%;\r\n}\r\n\r\n.task-item {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  padding: 15px 20px;\r\n  margin-bottom: 15px;\r\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.task-item:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n/* Task Header */\r\n.task-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.task-username {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: #ff5349;\r\n}\r\n\r\n.task-time {\r\n  font-size: 12px;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.task-description {\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n  line-height: 1.5;\r\n  color: #2c3e50;\r\n\r\n}\r\n\r\n/* Popup Styles */\r\n.popup {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: white;\r\n  padding: 30px;\r\n  width: 350px;\r\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  z-index: 1000;\r\n}\r\n\r\n.popup-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.input-textarea {\r\n  width: 100%;\r\n  height: 100px;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  margin-bottom: 15px;\r\n  font-size: 14px;\r\n  resize: none;\r\n}\r\n\r\n.popup-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.btn {\r\n  padding: 10px 15px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn-primary {\r\n\r\n  background-color: #ff5349;\r\n  color: white;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: #d38e6c;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #95a5a6;\r\n  color: white;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #7f8c8d;\r\n}\r\n\r\n.btn-social {\r\n  background-color: #ff5349;\r\n  /* 按鈕的背景色 */\r\n  color: white;\r\n  /* 按鈕上的文字顏色 */\r\n  border: none;\r\n  /* 去掉邊框 */\r\n  padding: 10px 15px;\r\n  /* 調整內邊距，讓按鈕更大 */\r\n  border-radius: 5px;\r\n  /* 圓角邊框 */\r\n  cursor: pointer;\r\n  /* 當滑鼠移到按鈕上顯示手型 */\r\n  font-size: 16px;\r\n  /* 調整字體大小 */\r\n  font-weight: bold;\r\n  /* 調整文字粗細 */\r\n  transition: background-color 0.3s ease, box-shadow 0.3s ease;\r\n  /* 添加過渡效果 */\r\n  margin: 15px 0;\r\n  /* 調整按鈕與周圍的間距 */\r\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);\r\n  /* 添加陰影效果 */\r\n}\r\n\r\n.btn-social:hover {\r\n  background-color: #cf807c;\r\n  /* 當滑鼠懸停時改變背景顏色 */\r\n  box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.25);\r\n  /* 滑鼠懸停時加深陰影效果 */\r\n}\r\n\r\n.btn-social:active {\r\n  background-color: #cf807c;\r\n  /* 當按下按鈕時的背景顏色 */\r\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.2);\r\n  /* 按下時陰影縮小 */\r\n}\r\n</style>\r\n","import { render } from \"./Testing1Page.vue?vue&type=template&id=45d88151&scoped=true\"\nimport script from \"./Testing1Page.vue?vue&type=script&lang=js\"\nexport * from \"./Testing1Page.vue?vue&type=script&lang=js\"\n\nimport \"./Testing1Page.vue?vue&type=style&index=0&id=45d88151&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45d88151\"]])\n\nexport default __exports__","<template>\r\n    <div>\r\n        <button @click=\"showPopup\">顯示成就</button>\r\n        <AchievementPopup\r\n        v-if=\"isPopupVisible\"\r\n        :title=\"'成就解鎖：超級冒險者！'\"\r\n        :description=\"'你已經完成了所有挑戰，獲得了獨特的獎勵！'\"\r\n        :image=\"'./pet/pet1.png'\"\r\n        @close=\"isPopupVisible = false\"\r\n        />\r\n    </div>\r\n</template>\r\n  \r\n  <script>\r\n  import AchievementPopup from '../components/AchievementPopup.vue';\r\n  \r\n  export default {\r\n    components: {\r\n      AchievementPopup,\r\n    },\r\n    data() {\r\n      return {\r\n        isPopupVisible: false,\r\n      };\r\n    },\r\n    methods: {\r\n      showPopup() {\r\n        this.isPopupVisible = true;\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  ","import { render } from \"./TestPopup.vue?vue&type=template&id=07c5ae60\"\nimport script from \"./TestPopup.vue?vue&type=script&lang=js\"\nexport * from \"./TestPopup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"club-list\">\r\n        <div v-for=\"(club, index) in clubs\" :key=\"index\" class=\"club-item\">\r\n            <h2>{{ club.title }}</h2>\r\n            <p>{{ club.description }}</p>\r\n\r\n            <button @click=\"joinClub(club)\">\r\n                <p><font-awesome-icon :icon=\"['fas', 'user']\" class=\"icon\" /> {{ club.members }}</p>加入\r\n            </button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            clubs: [\r\n                {\r\n                    title: \"設計社\",\r\n                    description: \"設計愛好者的社團，專注於平面設計、UI設計等。\",\r\n                    members: 120,\r\n                },\r\n                {\r\n                    title: \"程式設計社\",\r\n                    description: \"為程式開發者提供討論和學習的平台。\",\r\n                    members: 200,\r\n                },\r\n                {\r\n                    title: \"攝影社\",\r\n                    description: \"攝影愛好者的聚集地，分享攝影技巧與作品。\",\r\n                    members: 85,\r\n                },\r\n                {\r\n                    title: \"音樂社\",\r\n                    description: \"熱愛音樂的人們可以在這裡分享和學習音樂。\",\r\n                    members: 150,\r\n                },\r\n                {\r\n                    title: \"書法社\",\r\n                    description: \"專注於書法藝術的傳統社團。\",\r\n                    members: 70,\r\n                },\r\n                {\r\n                    title: \"籃球社\",\r\n                    description: \"喜愛籃球運動的成員們可以在此進行交流和比賽。\",\r\n                    members: 110,\r\n                },\r\n                {\r\n                    title: \"舞蹈社\",\r\n                    description: \"舞蹈愛好者的聚集地，分享舞蹈表演和技巧。\",\r\n                    members: 95,\r\n                },\r\n                {\r\n                    title: \"登山社\",\r\n                    description: \"為喜歡登山和探險的人們提供活動和分享。\",\r\n                    members: 50,\r\n                },\r\n                {\r\n                    title: \"劇社\",\r\n                    description: \"熱愛戲劇表演的人們在這裡學習和創作。\",\r\n                    members: 65,\r\n                },\r\n                {\r\n                    title: \"讀書會\",\r\n                    description: \"書籍愛好者的社團，共同閱讀和討論各類書籍。\",\r\n                    members: 130,\r\n                },\r\n            ],\r\n        };\r\n    },\r\n    methods: {\r\n        joinClub(club) {\r\n            alert(`你已經加入了 ${club.title}`);\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.club-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    padding: 10px;\r\n    background-color: #f9f9f9;\r\n    /* 背景保持淡雅 */\r\n}\r\n\r\n.club-item {\r\n    padding: 20px;\r\n    border-radius: 12px;\r\n    background-color: #ffffff;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n    /* 加入陰影讓卡片浮現 */\r\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.club-item:hover {\r\n    transform: translateY(-5px);\r\n    /* 鼠標懸停時微微提升 */\r\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);\r\n    /* 提升陰影強度 */\r\n}\r\n\r\nh2 {\r\n    font-size: 1.6em;\r\n    color: #333;\r\n    /* 加強標題顏色對比 */\r\n    margin-bottom: 10px;\r\n    font-weight: bold;\r\n}\r\n\r\np {\r\n    font-size: 1em;\r\n    color: #666;\r\n    /* 描述文字保持輕盈的灰色 */\r\n    margin-bottom: 10px;\r\n    line-height: 1.5;\r\n}\r\n\r\n/* 按鈕樣式 */\r\nbutton {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 10px 20px;\r\n    background-color: #ff6f61;\r\n    /* 使用柔和且醒目的按鈕顏色 */\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 25px;\r\n    cursor: pointer;\r\n    font-size: 1em;\r\n    transition: background-color 0.3s ease;\r\n    width: 100%;\r\n    text-align: center;\r\n}\r\n\r\nbutton:hover {\r\n    background-color: #ff3d30;\r\n    /* 懸停時按鈕顏色加深 */\r\n}\r\n\r\nbutton p {\r\n    margin: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 1em;\r\n    color: #fff;\r\n    /* 設置人數為白色 */\r\n}\r\n\r\nbutton p .icon {\r\n    margin-right: 8px;\r\n    color: #fff;\r\n    /* 設置圖標為白色 */\r\n}\r\n\r\nbutton span {\r\n    font-weight: bold;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n    .club-item {\r\n        padding: 15px;\r\n    }\r\n\r\n    h2 {\r\n        font-size: 1.4em;\r\n    }\r\n\r\n    p {\r\n        font-size: 0.9em;\r\n    }\r\n\r\n    button {\r\n        padding: 8px 16px;\r\n    }\r\n}\r\n</style>","import { render } from \"./SocialPage.vue?vue&type=template&id=16796d08&scoped=true\"\nimport script from \"./SocialPage.vue?vue&type=script&lang=js\"\nexport * from \"./SocialPage.vue?vue&type=script&lang=js\"\n\nimport \"./SocialPage.vue?vue&type=style&index=0&id=16796d08&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16796d08\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"task-page\">\r\n    <!-- Task List -->\r\n    <div class=\"task-list\">\r\n      <h2>Not Started</h2>\r\n      <div v-for=\"task in tasks.filter(task => task.status === 'not started')\" :key=\"task.id\" class=\"task-item\">\r\n        <div class=\"task-header\">\r\n          <span class=\"task-title\">{{ task.title }}</span>\r\n          <span class=\"task-username\">{{ task.username }}</span>\r\n          <span class=\"task-time\">{{ task.time }}</span>\r\n        </div>\r\n        <div class=\"task-description\">{{ task.description }}</div>\r\n        <div class=\"task-progress\">\r\n          <progress :value=\"0\" max=\"100\"></progress>\r\n          <span>0% Complete</span>\r\n        </div>\r\n      </div>\r\n\r\n      <h2>In Progress</h2>\r\n      <div v-for=\"task in tasks.filter(task => task.status === 'in progress')\" :key=\"task.id\" class=\"task-item\">\r\n        <div class=\"task-header\">\r\n          <span class=\"task-title\">{{ task.title }}</span>\r\n          <span class=\"task-username\">{{ task.username }}</span>\r\n          <span class=\"task-time\">{{ task.time }}</span>\r\n        </div>\r\n        <div class=\"task-description\">{{ task.description }}</div>\r\n        <div class=\"task-progress\">\r\n          <progress :value=\"50\" max=\"100\"></progress>\r\n          <span>50% Complete</span>\r\n        </div>\r\n      </div>\r\n\r\n      <h2>Completed</h2>\r\n      <div v-for=\"task in tasks.filter(task => task.status === 'completed')\" :key=\"task.id\" class=\"task-item\">\r\n        <div class=\"task-header\">\r\n          <span class=\"task-title\">{{ task.title }}</span>\r\n          <span class=\"task-username\">{{ task.username }}</span>\r\n          <span class=\"task-time\">{{ task.time }}</span>\r\n        </div>\r\n        <div class=\"task-description\">{{ task.description }}</div>\r\n        <div class=\"task-progress\">\r\n          <progress :value=\"100\" max=\"100\"></progress>\r\n          <span>100% Complete</span>\r\n          <button class=\"reward-btn\" @click=\"receiveReward(task.id)\">Receive Reward</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <AchievementPopup v-if=\"isPopupVisible\" :title=\"popupTitle\" :description=\"popupDescription\" :image=\"popupImage\"\r\n      @close=\"isPopupVisible = false\" />\r\n    <!-- Add Task Button -->\r\n    <!-- <button class=\"add-task-btn\" @click=\"togglePopup\">\r\n      <font-awesome-icon :icon=\"['fas', 'plus']\" />\r\n    </button> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, push, onValue, update, remove } from \"firebase/database\";\r\nimport { database } from \"../firebase\";\r\nimport { useUserStore } from \"@/stores/userStore\";\r\nimport AchievementPopup from '../components/AchievementPopup.vue';\r\nimport { usePetStore } from '../stores/petStore'; // 引入狀態管理\r\n\r\n\r\nexport default {\r\n  components: {\r\n    AchievementPopup,\r\n  },\r\n  setup() {\r\n    const userStore = useUserStore();\r\n    // Making user reactive via computed\r\n    const user = userStore.user;\r\n    const petStore = usePetStore();\r\n\r\n\r\n    return {\r\n      petStore,\r\n      user,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      newTaskTitle: \"\",\r\n      newTaskDescription: \"\",\r\n      tasks: [],\r\n      showPopup: false, // Controls the visibility of the popup modal\r\n      isPopupVisible: false,\r\n      popupTitle: \"\",\r\n      popupDescription: \"\",\r\n      popupImage: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadTasks();\r\n  },\r\n  methods: {\r\n    togglePopup() {\r\n      this.showPopup = !this.showPopup;\r\n    },\r\n    addTask() {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const tasksRef = ref(database, `users/${userId}/tasks`);\r\n      const newTask = {\r\n        title: this.newTaskTitle,\r\n        description: this.newTaskDescription,\r\n        username: this.user ? this.user.displayName : \"Anonymous\", // Fallback for displayName\r\n        time: new Date().toISOString().split('T')[0], // yyyy-mm-dd format\r\n        status: \"not started\",\r\n        attendees: {},\r\n      };\r\n\r\n      // Push new task to Firebase\r\n      push(tasksRef, newTask)\r\n        .then(() => {\r\n          this.newTaskTitle = \"\";\r\n          this.newTaskDescription = \"\";\r\n          this.showPopup = false; // Hide the popup after adding task\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error adding task:\", error);\r\n        });\r\n    },\r\n    loadTasks() {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const tasksRef = ref(database, `users/${userId}/tasks`);\r\n\r\n      onValue(tasksRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        const tasksArray = [];\r\n\r\n        for (const key in data) {\r\n          tasksArray.push({\r\n            id: key,\r\n            ...data[key],\r\n          });\r\n        }\r\n\r\n        this.tasks = tasksArray;\r\n      });\r\n    },\r\n    updateTaskStatus(taskId, newStatus) {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const taskRef = ref(database, `users/${userId}/tasks/${taskId}`);\r\n\r\n      update(taskRef, { status: newStatus }).catch((error) => {\r\n        console.error(\"Error updating task status:\", error);\r\n      });\r\n    },\r\n    toggleJoinTask(taskId) {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      const userName = this.user ? this.user.displayName : \"Anonymous\";\r\n      const taskRef = ref(database, `tasks/${taskId}/attendees/${userId}`);\r\n\r\n      if (this.isUserJoined(this.tasks.find(task => task.id === taskId))) {\r\n        remove(taskRef).catch((error) => {\r\n          console.error(\"Error disjoining task:\", error);\r\n        });\r\n      } else {\r\n        update(taskRef, { username: userName }).catch((error) => {\r\n          console.error(\"Error joining task:\", error);\r\n        });\r\n      }\r\n    },\r\n    isUserJoined(task) {\r\n      const userId = JSON.parse(localStorage.getItem(\"user\")).uid;\r\n      return task.attendees && task.attendees[userId];\r\n    },\r\n    cancelTask() {\r\n      this.newTaskTitle = \"\";\r\n      this.newTaskDescription = \"\";\r\n      this.showPopup = false;\r\n    },\r\n    receiveReward(taskId) {\r\n\r\n\r\n      // to pop up\r\n      //alert(`Reward received for task ${taskId}!`);\r\n      this.isPopupVisible = true;\r\n      this.popupTitle = taskId + \" 成就解鎖：超級冒險者！\";\r\n      this.popupDescription = \"你已經完成了所有挑戰，獲得了獨特的獎勵！\";\r\n      this.popupImage = \"./pet/pet1.png\";\r\n\r\n      this.petStore.addExperience(50); // 增加當前選中寵物的經驗值\r\n      //alert(`Reward received for task ${taskId}!`);\r\n\r\n      // Additional logic for rewarding can be added here\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* General Layout */\r\n\r\n#text {\r\n  font-size: 20px;\r\n  color: #333;\r\n\r\n}\r\n\r\n.task-page {\r\n  margin-top: 80px;\r\n  /* Space for NavBar */\r\n  margin-bottom: 60px;\r\n  /* Space for BottomBar */\r\n  padding: 20px;\r\n  background-color: #f4f7fa;\r\n  min-height: 100vh;\r\n  box-sizing: border-box;\r\n  width: 100vw;\r\n}\r\n\r\n/* Add Task Button */\r\n.add-task-btn {\r\n  position: fixed;\r\n  bottom: 80px;\r\n  right: 20px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  border: none;\r\n  padding: 20px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  font-size: 24px;\r\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);\r\n  transition: background-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.add-task-btn:hover {\r\n  background-color: #218838;\r\n  box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.25);\r\n}\r\n\r\n/* Task List */\r\n.task-list {\r\n  /* margin-top: 20px; */\r\n  padding: 20% 0%;\r\n}\r\n\r\n\r\n\r\n.task-item {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  padding: 15px 20px;\r\n  margin-bottom: 15px;\r\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.task-item:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n/* Task Header */\r\n.task-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.task-username {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: #ff5349;\r\n}\r\n\r\n.task-time {\r\n  font-size: 12px;\r\n  color: #7f8c8d;\r\n}\r\n\r\n.task-description {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  line-height: 1.5;\r\n  color: #2c3e50;\r\n}\r\n\r\n/* Task Progress */\r\n.task-progress {\r\n  margin-top: 10px;\r\n}\r\n\r\nprogress {\r\n  width: 100%;\r\n  height: 10px;\r\n}\r\n\r\n.reward-btn {\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n  background-color: #ff5349;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n\r\n.reward-btn:hover {\r\n  background-color: #db7671;\r\n}\r\n</style>","import { render } from \"./New2TaskPage.vue?vue&type=template&id=2af9261e&scoped=true\"\nimport script from \"./New2TaskPage.vue?vue&type=script&lang=js\"\nexport * from \"./New2TaskPage.vue?vue&type=script&lang=js\"\n\nimport \"./New2TaskPage.vue?vue&type=style&index=0&id=2af9261e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2af9261e\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\r\nimport WelcomePage from \"@/pages/WelcomePage.vue\";\r\nimport MainPage from \"@/pages/MainPage.vue\";\r\nimport PetPage from \"@/pages/PetPage.vue\";\r\nimport ShopPage from \"@/pages/ShopPage.vue\";\r\nimport TaskPage from \"@/pages/TaskPage.vue\";\r\nimport ProfilePage from \"@/pages/ProfilePage.vue\";\r\nimport New1TaskPage from \"@/pages/New1TaskPage.vue\";\r\nimport Testing1Page from \"@/pages/Testing1Page.vue\";\r\nimport TestPopup from \"@/pages/TestPopup.vue\";\r\nimport SocialPage from \"@/pages/SocialPage.vue\";\r\n\r\nimport New2TaskPage from \"@/pages/New2TaskPage.vue\";\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"Welcome\",\r\n    component: WelcomePage,\r\n  },\r\n  {\r\n    path: \"/main\",\r\n    name: \"Main\",\r\n    component: MainPage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/pet\",\r\n    name: \"Pet\",\r\n    component: PetPage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/shop\",\r\n    name: \"Shop\",\r\n    component: ShopPage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/task\",\r\n    name: \"Task\",\r\n    component: TaskPage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/newtask\",\r\n    name: \"NewTask\",\r\n    component: New1TaskPage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    name: \"Profile\",\r\n    component: ProfilePage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/test\",\r\n    name: \"test\",\r\n    component: Testing1Page,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/test2\",\r\n    name: \"test2\",\r\n    component: New2TaskPage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n  {\r\n    path: \"/testpopup\",\r\n    name: \"testpopup\",\r\n    component: TestPopup,\r\n    meta: { requiresAuth: true },\r\n  },\r\n  {\r\n    path: \"/social\",\r\n    name: \"Social\",\r\n    component: SocialPage,\r\n    meta: { requiresAuth: true }, // 需要登入的頁面\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\n\r\n// 路由守衛：未登入時重定向到歡迎頁面\r\nrouter.beforeEach((to, from, next) => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\")); // 簡單模擬驗證\r\n  if (to.matched.some((record) => record.meta.requiresAuth) && !user) {\r\n    next(\"/\");\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n","import { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport \"./firebase\"; // 確保你的 Firebase 初始化檔案被載入\r\nimport router from \"./router\"; // 引入 router\r\nimport { createPinia } from \"pinia\";\r\n\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport {\r\n  faPaw,\r\n  faTasks,\r\n  faHome,\r\n  faStore,\r\n  faUser,\r\n  faCoins, // 新增金錢圖標\r\n  faGem, // 新增鑽石圖標\r\n  faPlus,\r\n  faUsers,\r\n  faExchangeAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\r\n\r\n// 將圖標添加到庫中\r\n// library.add(\r\n//   faPaw,\r\n//   faTasks,\r\n//   faHome,\r\n//   faStore,\r\n//   faUser,\r\n//   faCoins,\r\n//   faGem,\r\n//   faUsers, // 如果偏向社群\r\n//   faComments, // 如果偏向互動\r\n//   faHandshake, // 如果偏向合作活動\r\n//   faCalendarCheck, // 如果代表已計劃的活動\r\n//   faBullhorn, // 如果偏向公告活動\r\n//   faEnvelope, // 用於邀請或通知\r\n//   faPlus,\r\n// );\r\nlibrary.add(\r\n  faPaw,\r\n  faTasks,\r\n  faHome,\r\n  faStore,\r\n  faUser,\r\n  faCoins,\r\n  faGem,\r\n  faUsers,\r\n  faPlus,\r\n  faUsers,\r\n  faExchangeAlt\r\n);\r\n\r\nconst app = createApp(App);\r\nconst pinia = createPinia();\r\n// 全局註冊 FontAwesomeIcon 組件\r\napp.component(\"font-awesome-icon\", FontAwesomeIcon);\r\n\r\n// 使用 router\r\napp.use(router);\r\napp.use(pinia);\r\n// 最後一次 mount 應用\r\napp.mount(\"#app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpet\"] = self[\"webpackChunkpet\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2888); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementBlock","id","onClick","_cache","args","$options","createParticles","isWelcomePage","_createCommentVNode","_createBlock","_component_NavBar","key","_createVNode","_component_router_view","_component_BottomBar","_createElementVNode","class","_hoisted_1","$event","navigateTo","_component_font_awesome_icon","icon","src","alt","methods","page","this","$router","push","name","__exports__","_hoisted_2","_createTextVNode","_toDisplayString","$setup","virtualCoins","ref","addCoinAmount","_hoisted_3","diamonds","addDimondAmount","_hoisted_4","user","displayName","useUserStore","defineStore","state","petLevel","selectedPetIndex","actions","setUser","setVirtualCoins","coins","setDiamonds","setPetLevel","level","addCoins","amount","addDiamonds","logout","setSelectedPet","index","components","FontAwesomeIcon","setup","userStore","addCoinAnime","addDimondAnime","computed","router","useRouter","path","handleLogout","triggerCoinAnimation","value","style","display","gsap","fromTo","opacity","y","duration","ease","to","delay","onComplete","triggerDimondAnimation","watch","newVal","oldVal","console","log","onMounted","async","nextTick","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","initializeApp","database","getDatabase","auth","getAuth","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","usePetStore","petCollection","owned","currentExperience","experienceNeeded","hasBrokenThrough","getters","selectedPet","selectPet","saveSelectedPetIndex","addExperience","levelUp","syncPetDataToFirebase","checkBreakthrough","breakthroughLevel","hasAnyPetBrokenThrough","some","pet","syncBreakthroughStatus","storedUser","localStorage","getItem","userId","JSON","parse","uid","userRef","update","updatePetCollection","loadSelectedPetIndex","onValue","snapshot","data","val","BottomBar","NavBar","$route","mounted","initializeUserData","setupPassiveIncome","setupFirebaseSync","petStore","setInterval","newCoins","event","particlesCount","particlesContainer","document","getElementById","error","x","clientX","clientY","i","particle","createElement","className","left","top","appendChild","randomX","Math","random","randomY","remove","render","$data","login","_hoisted_5","placeholder","_hoisted_6","balance","type","number","saveData","result","setItem","stringify","set","petName","petEnergy","then","catch","showClickGif","showBubble","floatingTextIndex","floatingTexts","_Transition","mode","default","_withCtx","isClickGif","mainPetImage","_","clickGifImage","showTextBubble","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","tasks","task","description","_hoisted_11","status","acceptTask","_hoisted_12","completeTask","_hoisted_13","passiveIncomeInterval","petFileName","split","pop","loadUserData","getMessageFromChatGPT","updateTasks","setTimeout","length","displayUserName","kkk","decodedStr","atob","openai","OpenAI","dangerouslyAllowBrowser","thread","beta","threads","create","prompt","run","runs","createAndPoll","assistant_id","instructions","messages","list","thread_id","message","reverse","role","content","text","mes","handlePetClick","_normalizeStyle","width","experiencePercentage","_normalizeClass","initializeDefaultPets","mainPet","updatePetData","defaultPetCollection","switchPage","pageName","internalPage","purchaseDiamonds","stuff","product","img","price","purchase","outStuff","purchaseByDiamond","_hoisted_14","isPopupVisible","_component_AchievementPopup","title","stuffTitle","stuffDescription","image","stuffImage","onClose","isVisible","closePopup","$props","props","String","required","animatePopup","startParticleEffect","from","$refs","popupContent","scale","$emit","interval","createParticlesAtRandomPosition","clearInterval","window","innerWidth","innerHeight","backgroundColor","getRandomColor","hue","floor","saturation","lightness","AchievementPopup","qrCode","lastExchangeDate","newDiamonds","alert","checkCoins","canBuyDiamonds","today","Date","toISOString","newVirtualCoins","undefined","dateRef","onSubmit","_withModifiers","addTask","newTaskDescription","loadTasks","tasksRef","newTask","tasksArray","for","achievements","initializeAchievements","userAvatar","onChange","uploadAvatar","accept","employeeId","hiringDate","position","selectedPosition","allPositions","pos","pushPosition","birthdate","mentor","openLeaveCalendar","completedAchievements","achievement","showAchievementDetails","incompleteAchievements","completeAchievement","completed","_hoisted_16","_hoisted_15","popupTitle","popupDescription","popupImage","showDialog","_hoisted_17","_hoisted_18","dialogContent","closeDialog","showCalendar","_hoisted_19","_hoisted_20","leaveDate","submitLeaveRequest","closeCalendar","userPosRef","firebaseRef","filter","file","target","files","URL","createObjectURL","firstAvatarChange","find","updateAchievements","updateFirebaseDiamonds","defaultAchievements","showPopup","username","published_time","newTaskUsername","newTaskTitle","cancelTask","navigateToSocial","time","updateTaskStatus","toggleJoinTask","isUserJoined","attendees","Object","keys","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","togglePopup","taskId","newStatus","taskRef","userName","clubs","club","joinClub","members","max","receiveReward","routes","component","WelcomePage","MainPage","meta","requiresAuth","PetPage","ShopPage","TaskPage","New1TaskPage","ProfilePage","Testing1Page","New2TaskPage","TestPopup","SocialPage","createRouter","history","createWebHistory","beforeEach","next","matched","record","library","add","faPaw","faTasks","faHome","faStore","faUser","faCoins","faGem","faUsers","faPlus","faExchangeAlt","createApp","App","pinia","createPinia","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}